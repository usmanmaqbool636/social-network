{"version":3,"sources":["store/actions/post.js","store/actions/types.js","components/Spinner.js","components/helper.js","components/pages/post/posts.js","components/pages/Home.js","components/pages/user/Signup.js","store/actions/user.js","components/pages/user/Signin.js","components/menu.js","components/Modal.js","components/pages/user/followProfileButton.js","components/pages/user/ProfileTabs.js","components/pages/user/Profile.js","components/pages/user/Users.js","components/pages/user/EditProfile.js","components/PrivateRoute.js","components/pages/user/FindUser.js","components/pages/post/Editor.js","components/pages/post/createPost.js","components/pages/post/commentRender.js","components/pages/post/Comment.js","components/pages/post/SinglePost.js","MainRouter.js","App.js","store/actions/socketAction.js","serviceWorker.js","store/reducers/user.js","store/reducers/post.js","store/reducers/socketReducer.js","store/reducers/index.js","index.js"],"names":["singlePost","postId","cb","dispatch","a","axios","get","res","type","payload","data","console","log","Spinner","className","width","height","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","getRandomColor","color","i","Math","floor","random","connect","state","posts","post","getAllPost","socket","emit","useState","err","setErr","loading","setLoading","search","setSearch","useEffect","imgError","evt","target","style","backgroundColor","filterPost","filter","c","regex","RegExp","title","match","body","placeholder","onChange","value","name","length","map","key","_id","src","onError","alt","dangerouslySetInnerHTML","__html","substring","to","postedBy","Date","createdAt","toDateString","cursor","likes","aria-hidden","Home","signup","user","Axios","localStorage","setItem","token","status","Boolean","response","error","props","email","password","values","setValues","errors","setErrors","handleChange","newerrors","Object","keys","role","data-dismiss","aria-label","onSubmit","preventDefault","history","push","autoFocus","disabled","class","signin","remember","defaultChecked","onClick","checked","id","htmlFor","isAuthenticated","auth","logout","withRouter","overflow","href","data-toggle","data-target","aria-controls","aria-expanded","location","pathname","renderPrivateNav","borderRadius","aria-haspopup","removeItem","Modal","deleteHandler","text","modelId","tabIndex","aria-labelledby","userfollow","followid","put","headers","Authorization","unFollow","unfollowid","followingList","followingId","extraclass","checkFollowing","setCheckFollowing","find","follow","jwt","ProfileTabs","follower","following","person","border","getTime","users","userList","userProfile","postbyUserList","postbyUser","totalLikes","totalComments","likesreceive","commentsreceive","singleUser","deleteProfile","userId","delete","postByUser","likesAndcomments","likesReceive","setId","params","objectFit","about","allUser","on","userData","FormData","editProfile","img","setImg","show","setShow","set","setTimeout","accept","link","URL","createObjectURL","files","size","Component","component","rest","render","findPeople","authuser","MyComponent","setState","Editor","modules","toolbar","clipboard","matchVisual","formats","this","theme","React","postData","createPost","updatePost","updatedpost","photo","Comment","prevProps","comment","commentedBy","lineHeight","moment","calendar","deleteComment","commentRef","createRef","submitHandler","current","commentId","unComment","prevprops","comments","newComments","_","sortBy","o","reverse","ref","SinglePost","isLike","SockerHandler","postUpdate","likeToggle","likeUnlike","like","format","deletePost","MainRouter","exact","path","Users","SignUp","Signin","Profile","EditProfile","FindPeople","CreatePost","require","config","logedIn","notLogedIn","connectSocket","io","window","hostname","initialState","commentsReceive","userReducer","action","comments_receive","likes_receive","likes_post","comments_post","postReducer","Socket","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.22fe0a03.chunk.js","sourcesContent":["import { GETALLPOST, SINGLEPOST, POSTBY_USER, LIKE_UNLIKE, COMMENT, UNCOMMENT } from './types'\r\nimport axios from 'axios'\r\n\r\nexport const createPost = (post, token, cb) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await axios.post(`/api/post/createpost`, post, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            })\r\n            // dispatch({ type: \"\", payload: res.data })\r\n            cb()\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"Post not created\")\r\n        }\r\n    }\r\n}\r\n\r\nexport const singlePost = (postId, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.get(`/api/post/single/${postId}`)\r\n            dispatch({ type: SINGLEPOST, payload: res.data })\r\n            cb(null, res.data)\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"Post not fetched\")\r\n        }\r\n    }\r\n}\r\nexport const getAllPost = (cb) => {\r\n    return async (dispatch, state) => {\r\n        try {\r\n            const res = await axios.get(`/api/post/getAllpost`)\r\n\r\n            console.log(state().socket.emit(\"one\", { data: \"one\" }));\r\n            dispatch({ type: GETALLPOST, payload: res.data })\r\n\r\n            cb()\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"Posts not fetched\")\r\n        }\r\n    }\r\n}\r\n\r\nexport const postByUser = (_id, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.get(`/api/post/by/${_id}`)\r\n            dispatch({ type: POSTBY_USER, payload: res.data });\r\n            cb();\r\n        } catch (error) {\r\n            console.log(error);\r\n            cb(\"user post not fetched\")\r\n        }\r\n    }\r\n}\r\nexport const deletePost = (_id, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            await axios.delete(`/api/post/${_id}`, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            })\r\n            cb()\r\n        } catch (error) {\r\n            cb(\"post not deleted\")\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const updatePost = (updatedpost, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            await axios.put(`/api/post/${updatedpost._id}`, updatedpost, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            })\r\n            cb()\r\n        } catch (error) {\r\n            cb(\"post not updated\")\r\n        }\r\n    }\r\n}\r\n\r\nexport const likeUnlike = (postId, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.put(`/api/post/like/${postId}`, {}, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({ type: LIKE_UNLIKE, payload: res.data });\r\n            cb();\r\n        } catch (error) {\r\n            cb(\"likes not updated\");\r\n        }\r\n    }\r\n}\r\nexport const postUpdate = (post) => {\r\n    return {\r\n        type: LIKE_UNLIKE,\r\n        payload: post\r\n    }\r\n}\r\n\r\nexport const comment = (postId, comment, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.put(`/api/post/comment/${postId}`, { comment: comment.text }, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({ type: COMMENT, payload: res.data })\r\n            cb();\r\n        } catch (error) {\r\n            cb(\"comment not posted\");\r\n        }\r\n    }\r\n}\r\n\r\nexport const unComment = (postId, commentId, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            console.log(\"uncomment\");\r\n            const res = await axios.put(`/api/post/uncomment/${postId}/${commentId}`, {}, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({ type: UNCOMMENT, payload: res.data })\r\n            cb();\r\n        } catch (error) {\r\n            console.log(\"error=>>>>>>\", error)\r\n            cb(\"comment not deleted\");\r\n        }\r\n    }\r\n}","\r\nexport const SIGNIN = \"SIGNIN\";\r\nexport const SIGNUP = \"SIGNUP\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\"\r\nexport const ALL_USER = \"ALL_USER\"\r\nexport const SINGLE_USER = \"SINGLE_USER\"\r\nexport const DELETE_PROFILE = \"DELETE_PROFILE\";\r\nexport const UPDATE_PROFILE = \"UPDATE_PROFILE\";\r\nexport const NOT_LOGED_IN = \"NOT_LOGED_IN\";\r\nexport const FOLLOW = \"FOLLOW\";\r\nexport const UNFOLLOW = \"UNFOLLOW\";\r\nexport const FINDPEOPLE = \"FINDPEOPLE\";\r\nexport const GETALLPOST = \"GETALLPOST\";\r\nexport const SINGLEPOST = \"SINGLEPOST\";\r\n\r\n\r\n\r\nexport const POSTBY_USER = \"POSTBY_USER\";\r\nexport const UPDATE_POST = \"UPDATE_POST\";\r\n\r\nexport const FETCH_DATA = \"FETCH_DATA\";\r\n\r\nexport const LIKE_UNLIKE = \"LIKE_UNLIKE\";\r\nexport const COMMENT = \"COMMENT\";\r\nexport const UNCOMMENT = \"UNCOMMENT\";\r\nexport const LIKESANDCOMMENTS = \"LIKESANDCOMMENTS\";\r\nexport const LIKERECEIVE = \"LIKERECEIVE\";\r\n\r\n\r\n\r\nexport const SOCKETCONNECTED = \"SOCKETCONNECTED\"; \r\nexport const DISSOCKETCONNECTED = \"DISSOCKETCONNECTED\"; ","import React from 'react';\r\nimport \"./Spinner.css\"\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n\r\n        <svg className=\"spinner\" width=\"65px\" height=\"65px\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <circle className=\"path\" fill=\"none\" strokeWidth=\"6\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\"></circle>\r\n        </svg>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","export const getRandomColor = () => {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAllPost } from '../../../store/actions/post';\r\nimport Spinner from '../../Spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport { getRandomColor } from '../../helper';\r\nimport \"./post.css\";\r\nconst GetAllPost = ({ posts, getAllPost }) => {\r\n    const [err, setErr] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [search, setSearch] = useState(\"\");\r\n    useEffect(() => {\r\n        getAllPost((err) => {\r\n            if (err) {\r\n                setLoading(false)\r\n                setErr(err);\r\n            } else {\r\n                setLoading(false)\r\n            }\r\n        })\r\n    }, [getAllPost])\r\n\r\n    const changeHandler = (evt) => {\r\n        setSearch(evt.target.value)\r\n    }\r\n    const imgError = async (evt) => {\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.className += \" postImgErr\";\r\n        console.log(evt.target.className)\r\n    }\r\n    const filterPost = posts ? posts.filter(c => {\r\n        const regex = new RegExp(`${search}`, \"gi\");\r\n        return c.title.match(regex) || c.body.match(regex);\r\n    }) : []\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"d-flex justify-content-center mt-5\">\r\n                <div className=\"form-group w-75\">\r\n                    <input placeholder=\"search from posts\" onChange={changeHandler} value={search} name=\"search\" className=\"form-control\" />\r\n                </div>\r\n            </div>\r\n            <h2 className=\"my-5 text-center\">\r\n                Recent Posts\r\n            </h2>\r\n            {err && <div className=\"alert alert-warning\">{err}</div>}\r\n            {posts.length < 0 && <h6 className=\"text-warning\">No Post found</h6>}\r\n            {posts && (\r\n                <div className=\"row justify-content-center\">\r\n                    {filterPost.map(post => {\r\n                        return (\r\n                            <div className=\"col-md-4 card m-1 p-1 singlePost\" style={{ width: \"18rem\" }} key={`Users ${post._id}`}>\r\n                                <img className=\"card-image-top\"\r\n                                    src={`/api/post/photo/${post._id}`}\r\n                                    onError={imgError}\r\n                                    alt={`${post.name}'s Image`} />\r\n                                <div className=\"card-body p-2\">\r\n                                    <h2 className=\"card-title\">{post.title}</h2>\r\n                                    <div className=\"card-text\" dangerouslySetInnerHTML={{ __html: post.body.substring(0, 100) }} />\r\n                                    <hr />\r\n                                    <p className=\"font-italic \">\r\n                                        Posted By\r\n                                        <Link to={`/user/${post.postedBy._id}`}>\r\n                                            <span className=\"mark\">\r\n                                                {post.postedBy.name}\r\n                                            </span>\r\n                                        </Link>\r\n                                        <br />\r\n                                        on {new Date(post.createdAt).toDateString()}\r\n                                    </p>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <Link to={`/posts/${post._id}`} className=\"btn btn-raised btn-sm btn-primary\">Read more</Link>\r\n                                        <h6 style={{ cursor: \"pointer\" }} className=\"d-inline-block\"  >\r\n                                            {post.likes.length}{\" \"}\r\n                                            <i className=\"fa fa-thumbs-o-up ml-1 \" aria-hidden=\"true\"></i>\r\n                                            {\" \"}\r\n                                            {post.likes.length}\r\n                                            <i className=\"fa fa-comments-o ml-1\" aria-hidden=\"true\"></i>\r\n                                        </h6>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            )}\r\n            {loading && <Spinner />}\r\n\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        posts: state.post.posts\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { getAllPost })(GetAllPost);","import React from 'react';\r\nimport Posts from \"./post/posts\";\r\nconst Home = () => {\r\n    return (\r\n        <>\r\n            <Posts />\r\n        </>\r\n    )\r\n}\r\nexport default Home;","import React, { useState } from 'react';\r\nimport { signup } from '../../../store/actions/user';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SignUp = (props) => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [errors, setErrors] = useState({})\r\n    const { name, email, password } = values;\r\n    const handleChange = (evt) => {\r\n        setValues({ ...values, [evt.target.name]: evt.target.value })\r\n        const newerrors = { ...errors }\r\n        delete newerrors[evt.target.name];\r\n        setErrors({ ...newerrors })\r\n    }\r\n    const submitHandler = (evt) => {\r\n        evt.preventDefault();\r\n        props.signup(values, (err) => {\r\n            setLoading(false)\r\n            if (err) {\r\n                setErrors(err)\r\n            }\r\n            else {\r\n                setValues({\r\n                    email: \"\",\r\n                    password: \"\"\r\n                })\r\n                props.history.push('/')\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"mt-5 mb-5\">\r\n                SignUp Form\r\n                </h2>\r\n            {Object.keys(errors).length > 0 && (\r\n                <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n                    <ul>\r\n                        {Object.keys(errors).map(err => {\r\n                            if (errors[err]) {\r\n                                return (\r\n                                    <li key={`signin ${err}`}>\r\n                                        {errors[err]}\r\n                                    </li>\r\n                                )\r\n                            }\r\n                            else {\r\n                                return null\r\n                            }\r\n\r\n                        })}\r\n                    </ul>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={submitHandler} >\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">\r\n                        Name\r\n                    </label>\r\n                    <input autoFocus type=\"text\" value={name} onChange={handleChange} name=\"name\" className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">\r\n                        Email\r\n                    </label>\r\n                    <input type=\"email\" value={email} onChange={handleChange} name=\"email\" className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">\r\n                        Password\r\n                    </label>\r\n                    <input type=\"password\" value={password} onChange={handleChange} name=\"password\" className=\"form-control\" />\r\n                </div>\r\n                <button className={`btn btn-raised btn-primary`} disabled={loading} >{loading ? \"Loading\" : \"Signup\"} </button>\r\n            </form>\r\n            <div class=\"alert alert-dark\" role=\"alert\">\r\n                Already have an account <Link to=\"/signin\">Signin</Link> instead.\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(null, { signup })(SignUp);","import {\r\n    SIGNIN, SIGNUP,\r\n    SET_USER, LOGOUT,\r\n    ALL_USER, SINGLE_USER,\r\n    DELETE_PROFILE, UPDATE_PROFILE,\r\n    AUTH_ERROR, NOT_LOGED_IN,\r\n    FOLLOW,\r\n    UNFOLLOW,\r\n    FINDPEOPLE,\r\n    LIKESANDCOMMENTS,\r\n    LIKERECEIVE,\r\n} from './types'\r\nimport Axios from 'axios';\r\nexport const likesAndcomments = (token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.get(\"/api/user/likesgave\", {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            })\r\n            dispatch({ type: LIKESANDCOMMENTS, payload: res.data })\r\n            cb()\r\n        } catch (error) {\r\n            cb(\"likes and comment not found\");\r\n        }\r\n    }\r\n}\r\nexport const likesReceive = (token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.get(\"/api/user/likesreceive\", {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({\r\n                type: LIKERECEIVE,\r\n                payload: res.data\r\n            })\r\n            cb();\r\n        } catch (error) {\r\n            cb({ error: \"Something went Wrong\" })\r\n        }\r\n    }\r\n}\r\nexport const signin = (user, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.post(`/api/auth/signin`, user)\r\n            localStorage.setItem(\"jwt\", `Bearer ${res.data.token}`)\r\n            dispatch({ type: SIGNIN, payload: res.data })\r\n            cb()\r\n        }\r\n        catch (err) {\r\n            const status = Boolean(err.response) ? err.response.status : 0\r\n            if (status === 403 || status === 404) {\r\n                cb(err.response.data)\r\n            }\r\n            else {\r\n                cb({ error: \"Something went Wrong\" })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const signup = (user, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.post(`/api/auth/signup`, user)\r\n            localStorage.setItem(\"jwt\", `Bearer ${res.data.token}`)\r\n            dispatch({ type: SIGNUP, payload: res.data })\r\n            cb()\r\n        }\r\n        catch (err) {\r\n            const status = Boolean(err.response) ? err.response.status : 0\r\n            if (status === 403 || status === 404) {\r\n                cb(err.response.data)\r\n            }\r\n            else {\r\n                cb({ error: \"Something went Wrong\" })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const logedIn = (token) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.get(`/api/auth/logedin`, {\r\n                headers: {\r\n                    \"Authorization\": token\r\n                }\r\n            })\r\n            dispatch({ type: SET_USER, payload: res.data })\r\n        }\r\n        catch (err) {\r\n            localStorage.removeItem('jwt')\r\n            dispatch({ type: AUTH_ERROR })\r\n        }\r\n    }\r\n}\r\n\r\nexport const allUser = (cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.get(`/api/user/alluser`)\r\n            dispatch({ type: ALL_USER, payload: res.data })\r\n            cb()\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"User not fetched\")\r\n        }\r\n    }\r\n}\r\n\r\nexport const findPeople = (token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.get(`/api/user/suggestion`, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            })\r\n            dispatch({ type: FINDPEOPLE, payload: res.data })\r\n            cb()\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"User not fetched\")\r\n        }\r\n    }\r\n}\r\nexport const singleUser = (id, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.get(`/api/user/${id}`)\r\n            dispatch({ type: SINGLE_USER, payload: res.data })\r\n            cb()\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"User not fetched\")\r\n        }\r\n    }\r\n}\r\nexport const logout = (cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            await Axios.get(\"/api/auth/signout\")\r\n            dispatch({ type: LOGOUT })\r\n            cb()\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n}\r\nexport const deleteProfile = (userId, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            await Axios.delete(`/api/user/${userId}`, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            })\r\n            localStorage.removeItem(\"jwt\");\r\n            dispatch({ type: DELETE_PROFILE })\r\n            cb();\r\n\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n            cb(\"user not deleted\")\r\n        }\r\n    }\r\n}\r\nexport const editProfile = (id, user, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.put(`/api/user/${id}`, user, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({ type: UPDATE_PROFILE, payload: res.data })\r\n            cb();\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"user not updated\");\r\n        }\r\n    }\r\n}\r\nexport const notLogedIn = () => {\r\n    return {\r\n        type: NOT_LOGED_IN\r\n    }\r\n}\r\n\r\n\r\nexport const userfollow = (followid, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.put(`/api/user/follow/`, { followid }, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({ type: FOLLOW, payload: res.data })\r\n            cb();\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"something went wrong please try again\");\r\n        }\r\n    }\r\n}\r\nexport const unFollow = (unfollowid, token, cb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await Axios.put(`/api/user/unfollow/`, { unfollowid }, {\r\n                headers: {\r\n                    Authorization: token\r\n                }\r\n            });\r\n            dispatch({ type: UNFOLLOW, payload: res.data })\r\n            cb();\r\n        } catch (err) {\r\n            console.log(err);\r\n            cb(\"something went wrong please try again\");\r\n        }\r\n    }\r\n\r\n}","import React, { useState } from 'react';\r\nimport { signin } from '../../../store/actions/user';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nconst Signin = (props) => {\r\n    const [values, setValues] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        remember: false\r\n    })\r\n    const [loading, setLoading] = useState(false);\r\n    const { email, password,remember } = values;\r\n    const [errors, setErrors] = useState({})\r\n    const handleChange = (evt) => {\r\n        setValues({ ...values, [evt.target.name]: evt.target.value })\r\n        const newerrors = { ...errors }\r\n        delete newerrors[evt.target.name];\r\n        setErrors({ ...newerrors })\r\n    }\r\n    const handleCheckedChange=(evt)=>{\r\n        setValues({...values,[evt.target.name]:evt.target.checked});\r\n    }\r\n    const submitHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setLoading(true)\r\n        props.signin(values, (err) => {\r\n            setLoading(false)\r\n            if (err) {\r\n                setErrors(err)\r\n            }\r\n            else {\r\n                setValues({\r\n                    email: \"\",\r\n                    password: \"\"\r\n                })\r\n                props.history.push('/')\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"mt-5 mb-5\">\r\n                SignIn Form\r\n                </h2>\r\n            {Object.keys(errors).length > 0 && (\r\n                <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n                    <ul>\r\n                        {Object.keys(errors).map(err => {\r\n                            if (errors[err]) {\r\n                                return (\r\n                                    <li key={`signin ${err}`}>\r\n                                        {errors[err]}\r\n                                    </li>\r\n                                )\r\n                            }\r\n                            else {\r\n                                return null\r\n                            }\r\n\r\n                        })}\r\n                    </ul>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={submitHandler} >\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">\r\n                        Email\r\n                    </label>\r\n                    <input autoFocus type=\"email\" value={email} onChange={handleChange} name=\"email\" className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">\r\n                        Password\r\n                    </label>\r\n                    <input type=\"password\" value={password} onChange={handleChange} name=\"password\" className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-check my-3\">\r\n                    <input name=\"remember\" value={remember} defaultChecked={remember} type=\"checkbox\" onClick={handleCheckedChange} className=\"form-check-input\" id=\"exampleCheck1\" />\r\n                    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Remember me</label>\r\n                </div>\r\n                <button className={`btn btn-raised btn-primary`} disabled={loading} >{loading ? \"Loading\" : \"Login\"} </button>\r\n\r\n            </form>\r\n            <div className=\"alert alert-dark\" role=\"alert\">\r\n                Not have an account <Link to=\"/signup\">Signup</Link> instead.\r\n                    </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(null, { signin })(Signin);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { logout } from '../store/actions/user';\r\nimport { connect } from 'react-redux';\r\nimport { getRandomColor } from './helper';\r\nconst Menu = ({ history, logout, isAuthenticated, user },) => {\r\n    const signOut = () => {\r\n        logout(() => {\r\n            localStorage.removeItem('jwt');\r\n            history.push('/signin');\r\n        })\r\n    }\r\n    const renderPrivateNav = () => {\r\n        switch (isAuthenticated) {\r\n            case false:\r\n                return (\r\n                    <>\r\n                        <li className={`nav-item ${history.location.pathname === \"/signup\" && \"active\"}`}>\r\n                            <Link className=\"nav-link\" to=\"/signup\">SignUp</Link>\r\n                        </li>\r\n\r\n                        <li className={`nav-item ${history.location.pathname === \"/signin\" && \"active\"}`}>\r\n                            <Link className=\"nav-link\" to=\"/signin\">SignIn</Link>\r\n                        </li>\r\n\r\n                    </>\r\n                )\r\n            case true:\r\n                return\r\n            default:\r\n                return\r\n        }\r\n    }\r\n    const imgError = async (evt) => {\r\n        // evt.target.src = \"https://source.unsplash.com/random\";\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.style.overflow = \"hidden\"\r\n    }\r\n    return (\r\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n            <div className=\"container\">\r\n            \r\n            <a className=\"navbar-brand\" href=\"/\">Social Network</a>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo02\" aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n                <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n                    <li className={`nav-item ${history.location.pathname === \"/\" && \"active\"}`}>\r\n                        <Link className=\"nav-link\" to=\"/\">Home <span className=\"sr-only\">(current)</span></Link>\r\n                    </li>\r\n                    <li className={`nav-item ${history.location.pathname === \"/users\" && \"active\"}`}>\r\n                        <Link className=\"nav-link\" to=\"/users\">Users <span className=\"sr-only\">(current)</span></Link>\r\n                    </li>\r\n                    {renderPrivateNav()}\r\n                    {isAuthenticated && (\r\n                        <>\r\n                            <li className={`nav-item ${history.location.pathname === \"/findpeople\" && \"active\"}`}>\r\n                                <Link className=\"nav-link\" to=\"/findpeople\">Find People</Link>\r\n                            </li>\r\n                            <li className={`nav-item ${history.location.pathname === \"/post/create\" && \"active\"}`}>\r\n                                <Link className=\"nav-link\" to=\"/post/create\">Create Post</Link>\r\n                            </li>\r\n                        </>\r\n                    )}\r\n                </ul>\r\n                {isAuthenticated && <ul className=\"navbar-nav  mt-2 mt-lg-0 justify-content-end\">\r\n                    <li className=\"nav-item dropdown\">\r\n                        <img\r\n                            src={`/api/user/photo/${user._id}`}\r\n                            onError={imgError}\r\n                            className=\"float-left mr-2\"\r\n                            height=\"35px\"\r\n                            width=\"35px\"\r\n\r\n                            style={{\r\n                                borderRadius: \"50%\",\r\n                            }}\r\n                        />\r\n                        <a href={`/user/${user._id}`} type=\"button\" className=\"btn text-light\">{user.name}</a>\r\n                        <button type=\"button\" className=\"btn dropdown-toggle dropdown-toggle-split text-light\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            {/* <span class=\"sr-only\">Toggle Dropdown</span> */}\r\n                        </button>\r\n                        <div className=\"dropdown-menu dropdown-menu-right   \">\r\n                            <a className=\"dropdown-item\" href=\"#\">Action</a>\r\n                            <a className=\"dropdown-item\" href=\"#\">Another action</a>\r\n                            <a className=\"dropdown-item\" href=\"#\">Something else here</a>\r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <a className=\"dropdown-item\" href=\"#\" onClick={signOut}>Signout</a>\r\n\r\n                        </div>\r\n                    </li>\r\n                </ul>}\r\n            </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        user: state.auth.user\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { logout })(withRouter(Menu));","import React from 'react';\r\nconst Modal = ({ deleteHandler,text,modelId }) => {\r\n    return (\r\n        <div className=\"modal fade\" id={modelId} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"mymodal\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Delete {text}</h5>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        Are your sure you want to delete {text}?\r\n                     </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                        <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={deleteHandler}>Delete</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Modal;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { userfollow, unFollow } from \"../../../store/actions/user\"\r\n\r\n\r\nconst ProfileFollowButton = ({ followingList, followingId, userfollow,unFollow,extraclass }) => {\r\n    const [checkFollowing, setCheckFollowing] = useState(false);\r\n    useEffect(() => {\r\n        setCheckFollowing(followingList ? followingList.find(follow => follow._id === followingId) : false)\r\n        console.log(\"follow\")\r\n    }, [followingList, followingId])\r\n\r\n    return (\r\n\r\n        <div className=\"d-inline-block\">\r\n            {!checkFollowing ? (\r\n                <button className={`btn btn-success btn-raised ${extraclass}`} onClick={() => {\r\n                    userfollow(followingId, localStorage.jwt, (err) => {\r\n                        if (!err) {\r\n                            setCheckFollowing(!checkFollowing);\r\n                        }\r\n                    })\r\n                }}>\r\n                    Follow\r\n                </button>\r\n            ) :\r\n\r\n                (<button className={`btn btn-warning btn-raised ${extraclass}`}\r\n                onClick={() => {\r\n                    unFollow(followingId, localStorage.jwt, (err) => {\r\n                        if (!err) {\r\n                            setCheckFollowing(!checkFollowing);\r\n                        }\r\n                    })\r\n                }}\r\n                >\r\n                    UnFollow\r\n                </button>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default connect(null, { userfollow,unFollow })(ProfileFollowButton);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getRandomColor } from '../../helper';\r\n\r\nconst ProfileTabs = ({ follower, following, posts }) => {\r\n    const imgError = async (evt) => {\r\n        // evt.target.src = \"https://source.unsplash.com/random\";\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.style.overflow=\"hidden\"\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                    <h3 className=\"text-primary\">Followers ({follower.length})</h3>\r\n                    <hr />\r\n                    {follower.map(person => (\r\n                        <div key={`tabfollowing${person._id}`}>\r\n                            <div className=\"row  mt-2 p-2\">\r\n                                <div>\r\n                                    <Link to={`/user/${person._id}`}>\r\n                                        <img\r\n                                            className=\"float-left mr-2\"\r\n                                            height=\"40px\"\r\n                                            width=\"40px\"\r\n\r\n                                            style={{\r\n                                                borderRadius: \"50%\",\r\n                                                border: \".8px solid #707070\"\r\n                                            }}\r\n                                            src={`/api/user/photo/${person._id}?${new Date().getTime()}`}\r\n                                            alt={`${person.name}`}\r\n                                            onError={imgError}\r\n                                        />\r\n                                        <div className=\"float-left\">\r\n                                            <h3>{person.name}</h3>\r\n                                        </div>\r\n\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"col-md-4\">\r\n                    <h3 className=\"text-primary\">Following ({following.length})</h3>\r\n                    <hr />\r\n                    {following.map(person => (\r\n                        <div key={`tabfollower${person._id}`}>\r\n                            <div className=\"row  mt-2 p-2\">\r\n                                <div className=\"\">\r\n                                    <Link to={`/user/${person._id}`}>\r\n                                        <img\r\n                                            className=\"float-left mr-2\"\r\n                                            height=\"40px\"\r\n                                            width=\"40px\"\r\n\r\n                                            style={{\r\n                                                borderRadius: \"50%\",\r\n                                                border: \".8px solid #707070\"\r\n                                            }}\r\n                                            src={`/api/user/photo/${person._id}?${new Date().getTime()}`}\r\n                                            alt={`${person.name}`}\r\n                                            onError={imgError}\r\n                                        />\r\n                                        <div className=\"float-left\">\r\n                                            <h3>{person.name}</h3>\r\n                                        </div>\r\n\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <h3 className=\"text-primary\">Post ({posts.length})</h3>\r\n                    <hr />\r\n\r\n                    {posts.map(post => (\r\n                        <div key={`tabfollower${post._id}`}>\r\n                            <div className=\"row  mt-2 p-2\">\r\n                                <div className=\"\">\r\n                                    <Link to={`/posts/${post._id}`}>\r\n                                        <img\r\n                                            className=\"float-left mr-2\"\r\n                                            height=\"40px\"\r\n                                            width=\"40px\"\r\n\r\n                                            style={{\r\n                                                borderRadius: \"50%\",\r\n                                                border: \".8px solid #707070\"\r\n                                            }}\r\n                                            src={`/api/post/photo/${post._id}?${new Date().getTime()}`}\r\n                                            alt={`${post.name}`}\r\n                                            onError={imgError}\r\n                                        />\r\n                                        <div className=\"float-left\">\r\n                                            <h3>{post.title}</h3>\r\n                                        </div>\r\n\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileTabs;","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { singleUser, deleteProfile, likesAndcomments, likesReceive } from '../../../store/actions/user';\r\nimport { postByUser } from '../../../store/actions/post';\r\nimport Modal from '../../Modal';\r\nimport ProfileFollowButton from './followProfileButton';\r\nimport ProfileTabs from './ProfileTabs';\r\nimport { getRandomColor } from '../../helper';\r\n\r\nconst Profile = ({ match, user, isAuthenticated, singleUser, totalComments, totalLikes, commentsreceive, likesreceive, userProfile, deleteProfile, history, postByUser, postbyUserList, likesAndcomments, likesReceive }) => {\r\n    const [id, setId] = useState(null);\r\n    const [err, setErr] = useState(null);\r\n    useEffect(() => {\r\n        if (!id) {\r\n            setId(match.params.userId)\r\n            postByUser(match.params.userId, (err) => {\r\n                setErr(err);\r\n            })\r\n\r\n            singleUser(match.params.userId, (err) => {\r\n                if (err) {\r\n                    setErr(err)\r\n                }\r\n            })\r\n        }\r\n        if (isAuthenticated) {\r\n            likesAndcomments(localStorage.jwt, () => {\r\n            });\r\n            likesReceive(localStorage.jwt, () => {\r\n\r\n            });\r\n        }\r\n\r\n    }, [id,isAuthenticated, singleUser, postByUser ])\r\n\r\n\r\n    const imgError = async (evt) => {\r\n        // evt.target.src = \"https://source.unsplash.com/random\";\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.style.overflow = \"hidden\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid px-5\">\r\n            <h2 className=\"mt-5 mb-5\">Profile</h2>\r\n            {err && (\r\n                <div className=\"alert alert-danger\">{err}</div>\r\n            )}\r\n            {userProfile && (\r\n                <>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-4\">\r\n\r\n                            <img className=\"card-image-top\" style={{\r\n                                width: \"100%\",\r\n                                height: \"20vw\",\r\n                                objectFit: \"contain\"\r\n                            }} src={`/api/user/photo/${userProfile._id}?${new Date().getTime()}`} onError={imgError} alt={`${userProfile.name}'s Image`} />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"col-md-8\">\r\n                            {/* {isAuthenticated && } */}\r\n                            <div className=\"lead mt-2\">\r\n\r\n                                <p>hello: {userProfile.name}</p>\r\n                                <p>Email: {userProfile.email}</p>\r\n                                <p>joined on:{new Date(userProfile.createdAt).toDateString()} </p>\r\n                            </div>\r\n                            <hr />\r\n                            {isAuthenticated &&\r\n                                <>\r\n                                    <div className=\"d-flex my-3\">\r\n                                        <h5 className=\"mr-3\">Likes Receive <span className=\"badge badge-primary\">{likesreceive}</span></h5>\r\n                                        <h5 className=\"\">Coments Receive <span className=\"badge badge-primary\">{commentsreceive}</span></h5>\r\n                                    </div>\r\n                                    <div className=\"d-flex my-3\">\r\n                                        <h5 className=\"mr-3\">Likes post <span className=\"badge badge-secondary\">{totalLikes}</span></h5>\r\n                                        <h5 className=\"\">coments post <span className=\"badge badge-secondary\">{totalComments}</span></h5>\r\n                                    </div>\r\n                                </>\r\n                            }\r\n\r\n                            {isAuthenticated && (user._id === id) ? (\r\n                                <div className=\"d-inline-block\">\r\n                                    <Link className=\"btn btn-raised btn-info mr-3\"\r\n                                        to={`/post/create`}\r\n                                    >\r\n                                        Create Post\r\n                                    </Link>\r\n                                    <Link className=\"btn btn-raised btn-success mr-3\"\r\n                                        to={`/user/edit/${userProfile._id}`}\r\n                                    >\r\n                                        Edit Profile\r\n                                    </Link>\r\n                                    <button className=\"btn btn-raised btn-danger\" data-toggle=\"modal\" data-target={`#profile${user._id}`}>Delete </button>\r\n                                    <Modal text=\"profile\" modelId={`profile${user._id}`} deleteHandler={() => {\r\n                                        deleteProfile(user._id, localStorage.jwt, (err) => {\r\n                                            if (err) {\r\n                                                console.log(err)\r\n                                            }\r\n                                            else {\r\n                                                history.push('/signin')\r\n                                            }\r\n                                        })\r\n                                    }} />\r\n                                </div>\r\n                            ) : <ProfileFollowButton followingList={user ? user.following : []} followingId={userProfile._id} />}\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12 my-5\">\r\n                            <hr />\r\n                            <div className=\"lead\">{userProfile.about}</div>\r\n                            <hr />\r\n                            <ProfileTabs posts={postbyUserList} follower={userProfile.follower} following={userProfile.following} />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n\r\n}\r\nconst mapStateToPtops = (state) => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        users: state.auth.userList,\r\n        user: state.auth.user,\r\n        userProfile: state.auth.userProfile,\r\n        postbyUserList: state.post.postbyUser,\r\n        totalLikes: state.auth.totalLikes,\r\n        totalComments: state.auth.totalComments,\r\n        likesreceive: state.auth.likesreceive,\r\n        commentsreceive: state.auth.commentsreceive\r\n\r\n    }\r\n}\r\nexport default connect(mapStateToPtops, { singleUser, deleteProfile, postByUser, likesAndcomments, likesReceive })(Profile);","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { allUser } from '../../../store/actions/user';\r\nimport Spinner from '../../Spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport { getRandomColor } from '../../helper';\r\n\r\nconst Users = ({ allUser, users, socket }) => {\r\n    const [err, setErr] = useState(null)\r\n    const [loading, setLoading] = useState(true)\r\n    // const [dt, setDt] = useState('');\r\n    useEffect(() => {\r\n        allUser((err) => {\r\n            if (err) {\r\n                setLoading(false)\r\n                setErr(err);\r\n            } else {\r\n                setLoading(false)\r\n            }\r\n        })\r\n    }, [allUser])\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.emit('neweve', \"neweve called\");\r\n            socket.on(\"hi\", (data) => {\r\n                console.log(\"data=>\", data)\r\n            })\r\n            socket.on(\"postall\", data => {\r\n                console.log(\"asd=>\",data)\r\n                // setDt(data.some)\r\n            });\r\n            // socket.on(\"getData1\", data => {\r\n            //     setDt(data);\r\n            // });\r\n        }\r\n    }, [socket])\r\n\r\n\r\n\r\n    const imgError = async (evt) => {\r\n        // evt.target.src = \"https://source.unsplash.com/random\";\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.style.overflow = \"hidden\"\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n\r\n            <h2 className=\"my-5 text-center\">\r\n                Users\r\n            </h2>\r\n            {err && <div className=\"alert alert-warning\">{err}</div>}\r\n            {users && (\r\n                <div className=\"row no-gutters justify-content-center\">\r\n                    {users.map(user => {\r\n                        return (\r\n                            <div className=\"col-sm-12 col-md-3 card m-1 singlePost\" style={{ width: \"18rem\" }} key={`Users ${user._id}`}>\r\n                                <img className=\"card-image-top \"\r\n                                    src={`/api/user/photo/${user._id}`}\r\n                                    onError={imgError}\r\n                                    alt={`${user.name}'s Image`} />\r\n                                <div className=\"card-body\">\r\n                                    <h2 className=\"card-title\">{user.name}</h2>\r\n                                    <p className=\"card-text\">{user.email} </p>\r\n                                    <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-sm btn-primary\">View Profile </Link>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            )}\r\n            {loading && <Spinner />}\r\n\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.auth.userList,\r\n        socket: state.socket\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { allUser })(Users);","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { editProfile } from \"../../../store/actions/user\";\r\n\r\nlet userData = new FormData();\r\nconst EditProfile = ({ isAuthenticated, user, editProfile }) => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        about: \"\"\r\n    });\r\n    const [img, setImg] = useState(null);\r\n    const [show, setShow] = useState(false);\r\n    const [err, setErr] = useState(\"\");\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            const { name, email, about } = user;\r\n            setValues({ ...values, name, email, about });\r\n        }\r\n    }, [isAuthenticated]);\r\n    const handleChange = (evt) => {\r\n        userData.set([evt.target.name], evt.target.value);\r\n        setValues({ ...values, [evt.target.name]: evt.target.value });\r\n    };\r\n    const handleFileChange = (evt) => {\r\n        const link = URL.createObjectURL(evt.target.files[0])\r\n        setImg(link)\r\n        userData.set([evt.target.name], evt.target.files[0]);\r\n        if (evt.target.files[0].size > 1048575) {\r\n            setErr(\"file must not grather than 1 mb\");\r\n            setShow(true);\r\n            setTimeout(() => {\r\n                setErr(\"\");\r\n                setShow(false);\r\n            }, 2000);\r\n        }\r\n        setValues({ ...values, [evt.target.name]: evt.target.files[0] });\r\n    };\r\n    const submitHandler = (evt) => {\r\n        const { name, email, password, about } = values;\r\n        evt.preventDefault();\r\n        if (password && password.length >= 1 && password.length <= 5) {\r\n            setErr(\"password must be greater than 6 character\");\r\n            setShow(true);\r\n            setTimeout(() => {\r\n                setErr(\"\");\r\n                setShow(false);\r\n            }, 2000);\r\n        }\r\n        if (!name || !email) {\r\n            setErr(\"name and email must required to perform this actions\");\r\n            setShow(true);\r\n            setTimeout(() => {\r\n                setErr(\"\");\r\n                setShow(false);\r\n            }, 2000);\r\n        } else {\r\n            editProfile(user._id, userData, localStorage.jwt, (err) => {\r\n                if (err) {\r\n                    setErr(err);\r\n                    setShow(true);\r\n                    setTimeout(() => {\r\n                        setErr(\"\");\r\n                        setShow(false);\r\n                    }, 2000);\r\n                } else {\r\n                    setShow(true);\r\n                    setTimeout(() => {\r\n                        setErr(\"\");\r\n                        setShow(false);\r\n                    }, 2000);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    const { name, email, password, about } = values;\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"mt-5 mb-5\"> EditProfile </h2>{\" \"}\r\n            {show ? (\r\n                <div\r\n                    class={`alert ${\r\n                        err ? \"alert-danger\" : \"alert-success\"\r\n                        } alert-dismissible fade show`}\r\n                    role=\"alert\"\r\n                >\r\n                    {\" \"}\r\n                    {err ? err : \"updated successfully\"}{\" \"}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                    >\r\n                        <span aria-hidden=\"true\"> & times; </span>{\" \"}\r\n                    </button>{\" \"}\r\n                </div>\r\n            ) : null}\r\n            {img ?\r\n                <img className=\"img-thumbnail\" style={{\r\n                    width: \"200\",\r\n                    height: \"20vw\",\r\n                    objectFit: \"cover\"\r\n                }}\r\n                    src={img} alt={`${user.name}'s Image`} />\r\n                :\r\n            <img className=\"img-thumbnail\" style={{\r\n                width: \"200\",\r\n                height: \"20vw\",\r\n                objectFit: \"cover\"\r\n            }}\r\n                src={`/api/user/photo/${user._id}?date=${new Date().getTime()}`} alt={`${user.name}'s Image`} />\r\n            }\r\n            <form onSubmit={submitHandler}>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">profile Photo </label>\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleFileChange}\r\n                        name=\"photo\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Name </label>{\" \"}\r\n                    <input\r\n                        type=\"text\"\r\n                        value={name}\r\n                        onChange={handleChange}\r\n                        name=\"name\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        value={email}\r\n                        onChange={handleChange}\r\n                        name=\"email\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Password </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={handleChange}\r\n                        name=\"password\"\r\n                        className=\"form-control\"\r\n                    />\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">About </label>{\" \"}\r\n                        <textarea\r\n                            type=\"text\"\r\n                            value={about}\r\n                            onChange={handleChange}\r\n                            name=\"about\"\r\n                            className=\"form-control\"\r\n                        />\r\n                    </div>\r\n                </div>{\" \"}\r\n                <button className={`btn btn-raised btn-primary`} disabled={show}>\r\n                    {\" \"}\r\n                    {show ? \"Updating Profile\" : \"Update Profile\"}{\" \"}\r\n                </button>{\" \"}\r\n            </form>{\" \"}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        user: state.auth.user,\r\n    };\r\n};\r\nexport default connect(mapStateToProps, { editProfile })(EditProfile);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PrivateRoute = ({ component: Component, isAuthenticated, ...rest }) => {\r\n    return (\r\n        <Route {...rest} render={(props) => {\r\n            switch (isAuthenticated) {\r\n                case null:\r\n                    return (\r\n                        <div>\r\n                            <h1 className=\"mt-5 mb-5\">Loading</h1>\r\n                        </div>\r\n                    )\r\n                case false:\r\n                    return <Redirect to=\"/signin\" />\r\n                default:\r\n                    return <Component {...props} />\r\n            }\r\n        }} />\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { findPeople, singleUser } from '../../../store/actions/user';\r\nimport Spinner from '../../Spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport ProfileFollowButton from './followProfileButton';\r\nimport { getRandomColor } from '../../helper';\r\n\r\nconst FindUser = ({ findPeople, users,authuser }) => {\r\n    const [err, setErr] = useState(null)\r\n    const [loading, setLoading] = useState(true)\r\n    useEffect(() => {\r\n        findPeople(localStorage.jwt, (err) => {\r\n            if (err) {\r\n                setLoading(false)\r\n                setErr(err);\r\n            } else {\r\n                setLoading(false)\r\n            }\r\n        })\r\n    }, [localStorage.jwt])\r\n\r\n    const imgError = async (evt) => {\r\n        // evt.target.src = \"https://source.unsplash.com/random\";\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.style.overflow=\"hidden\"\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n\r\n            <h2 className=\"my-5 text-center\">\r\n                Find People\r\n            </h2>\r\n            {err && <div className=\"alert alert-warning\">{err}</div>}\r\n            {users && (\r\n                <div className=\"row no-gutters justify-content-center\">\r\n                    {users.map(user => {\r\n                        return (\r\n                            <div className=\"col-md-3 card m-1\" style={{ width: \"18rem\" }} key={`Users ${user._id}`}>\r\n                                <div className=\"card-body\">\r\n                                    <h2 className=\"card-title\">{user.name}</h2>\r\n                                    <p className=\"card-text\">{user.email} </p>\r\n                                    <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-sm btn-primary\">View Profile </Link>\r\n                                    <ProfileFollowButton extraclass=\"ml-1\" followingList={authuser ? authuser.following : []} followingId={user._id} />\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            )}\r\n            {loading && <Spinner />}\r\n\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.auth.findPeople,\r\n        authuser: state.auth.user,\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { findPeople })(FindUser);","import Editor from 'react-quill';\r\nimport React from 'react';\r\nimport 'react-quill/dist/quill.snow.css';\r\n\r\nclass MyComponent extends React.Component {\r\n    state = {\r\n        text: ''\r\n    }\r\n\r\n    // constructor(props) {\r\n    //   super(props)\r\n    //   this.state = { text: '' } // You can also pass a Quill Delta here\r\n    //   this.handleChange = this.handleChange.bind(this)\r\n    // }\r\n\r\n    handleChange = (value) => {\r\n        this.setState({ text: value })\r\n    }\r\n\r\n    render() {\r\n        Editor.modules = {\r\n            toolbar: [\r\n                [{ 'header': '1' }, { 'header': '2' }, { 'font': [] }],\r\n                [{ size: [] }],\r\n                ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n                [{ 'list': 'ordered' }, { 'list': 'bullet' },\r\n                { 'indent': '-1' }, { 'indent': '+1' }],\r\n                ['clean']\r\n            ],\r\n            clipboard: {\r\n                // toggle to add extra line breaks when pasting HTML:\r\n                matchVisual: false,\r\n            }\r\n        }\r\n        /* \r\n         * Quill editor formats\r\n         * See https://quilljs.com/docs/formats/\r\n         */\r\n        Editor.formats = [\r\n            'header', 'font', 'size',\r\n            'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n            'list', 'bullet', 'indent',\r\n            'link'\r\n        ]\r\n\r\n        return (\r\n            <Editor\r\n                value={this.props.value}\r\n                name={this.props.name}\r\n                onChange={this.props.onChange}\r\n                modules={Editor.modules}\r\n                formats={Editor.formats}\r\n                theme=\"snow\"\r\n                placeholder=\"write something\"\r\n            />\r\n        )\r\n    }\r\n}\r\nexport default MyComponent;","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createPost, singlePost, updatePost } from \"../../../store/actions/post\";\r\nimport Editor from './Editor';\r\nlet postData = new FormData();\r\nconst CreatePost = ({ isAuthenticated, match, user, createPost, history, singlePost, updatePost }) => {\r\n    const [values, setValues] = useState({\r\n        title: \"\",\r\n        body: \"\",\r\n        photo: \"\",\r\n    });\r\n    const [img, setImg] = useState(null)\r\n    const [show, setShow] = useState(false);\r\n    const [err, setErr] = useState(\"\");\r\n    useEffect(() => {\r\n        if (match.params.postId) {\r\n            singlePost(match.params.postId, (err, data) => {\r\n                if (err) {\r\n                    setErr(err);\r\n                } else {\r\n                    setValues({ ...values, ...data })\r\n                }\r\n            })\r\n\r\n        }\r\n    }, [isAuthenticated, match.params.postId, singlePost]);\r\n    const handleChange = (evt) => {\r\n        postData.set([evt.target.name], evt.target.value);\r\n        setValues({ ...values, [evt.target.name]: evt.target.value });\r\n    };\r\n    const bodyChange = (text) => {\r\n        postData.set(\"body\", text);\r\n        setValues({\r\n            ...values,\r\n            body: text\r\n        })\r\n    }\r\n    const handleFileChange = (evt) => {\r\n        const link = URL.createObjectURL(evt.target.files[0])\r\n        setImg(link)\r\n        console.log(link);\r\n        postData.set([evt.target.name], evt.target.files[0]);\r\n        if (evt.target.files[0].size > 1048575) {\r\n            setErr(\"file must not grather than 1 mb\");\r\n            setShow(true);\r\n            setTimeout(() => {\r\n                setErr(\"\");\r\n                setShow(false);\r\n            }, 2000);\r\n        }\r\n        setValues({ ...values, [evt.target.name]: evt.target.files[0] });\r\n    };\r\n    const submitHandler = (evt) => {\r\n        const { title, body } = values;\r\n        evt.preventDefault();\r\n        if (!title || !body) {\r\n            setErr(\"please fill all field\");\r\n            setShow(true);\r\n            setTimeout(() => {\r\n                setErr(\"\");\r\n                setShow(false);\r\n            }, 2000);\r\n        }\r\n        else {\r\n            if (match.params.postId) {\r\n                postData._id = values._id\r\n                updatePost(postData, localStorage.jwt, (err) => {\r\n                    if (err) {\r\n                        setErr(err);\r\n                        setShow(true);\r\n                        setTimeout(() => {\r\n                            setErr(\"\");\r\n                            setShow(false);\r\n                        }, 2000);\r\n                    } else {\r\n                        setShow(true);\r\n                        setTimeout(() => {\r\n                            setErr(\"\");\r\n                            setShow(false);\r\n                        }, 2000);\r\n                    }\r\n                });\r\n            } else {\r\n                createPost(postData, localStorage.jwt, (err) => {\r\n                    if (err) {\r\n                        setErr(err);\r\n                        setShow(true);\r\n                        setTimeout(() => {\r\n                            setErr(\"\");\r\n                            setShow(false);\r\n                        }, 2000);\r\n                    } else {\r\n                        setShow(true);\r\n                        history.push(`/user/${user._id}`)\r\n                        setValues({});\r\n                        setTimeout(() => {\r\n                            setErr(\"\");\r\n                            setShow(false);\r\n                        }, 2000);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    const { title, body } = values;\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"mt-5 mb-5\"> {match.params.postId ? \"Update\" : \"Create\"} New Post </h2>{\" \"}\r\n            {show ? (\r\n                <div\r\n                    className={`alert ${\r\n                        err ? \"alert-danger\" : \"alert-success\"\r\n                        } alert-dismissible fade show`}\r\n                    role=\"alert\"\r\n                >\r\n                    {\" \"}\r\n                    {err ? err : \"updated successfully\"}{\" \"}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                    >\r\n                        <span aria-hidden=\"true\"> &times; </span>{\" \"}\r\n                    </button>{\" \"}\r\n                </div>\r\n            ) : null}\r\n            {img ?\r\n                <img className=\"img-thumbnail\" style={{\r\n                    width: \"200\",\r\n                    height: \"20vw\",\r\n                    objectFit: \"cover\"\r\n                }}\r\n                    src={img} alt={`${title}'s Image`} />\r\n            :\r\n            <img className=\"img-thumbnail\" style={{\r\n                width: \"200\",\r\n                height: \"20vw\",\r\n                objectFit: \"cover\"\r\n            }}\r\n                src={`/api/post/photo/${values._id}`} />\r\n            }\r\n            <form onSubmit={submitHandler}>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">profile Photo </label>\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleFileChange}\r\n                        name=\"photo\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Title </label>{\" \"}\r\n                    <input\r\n                        type=\"text\"\r\n                        value={title}\r\n                        onChange={handleChange}\r\n                        name=\"title\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">body</label>\r\n                    <Editor name=\"body\" value={body} onChange={bodyChange} className=\"form-control\" />\r\n                </div>\r\n\r\n                <button className={`btn btn-raised btn-primary`} disabled={show}>\r\n                    {\" \"}\r\n                    {match.params.postId ? \"Update\" : \"create \"} post{\" \"}\r\n                </button>{\" \"}\r\n            </form>{\" \"}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        user: state.auth.user,\r\n    };\r\n};\r\nexport default connect(mapStateToProps, { createPost, singlePost, updatePost })(CreatePost);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { getRandomColor } from '../../helper';\r\nclass Comment extends React.Component {\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.comment._id!==this.props.comment._id){\r\n            console.log(\"comment updated \")\r\n        }\r\n    }\r\n    \r\n    imgError = async (evt) => {\r\n        // evt.target.src = \"https://source.unsplash.com/random\";\r\n        evt.target.style.backgroundColor = getRandomColor()\r\n        evt.target.style.overflow = \"hidden\"\r\n    }\r\n    render() {\r\n        const { comment, user, isAuthenticated } = this.props\r\n        return (\r\n            <div key={`tabfollower${comment._id}`}>\r\n                <div className=\"row mt-2 p-2\">\r\n                    <div className=\"col-12\">\r\n\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"media\">\r\n                                <Link to={`/user/${comment.commentedBy._id}`} title={comment.commentedBy.name}>\r\n                                    <img\r\n                                        src={`http://localhost:8080/api/user/photo/${comment.commentedBy._id}?${new Date().getTime()}`} className=\"mr-3\" onError={this.imgError} />\r\n                                </Link>\r\n\r\n                                <div className=\"media-body\">\r\n                                    <h5 style={{ lineHeight: \".5\" }} className=\"mt-0\"><Link to={`/user/${comment.commentedBy._id}`} title={comment.commentedBy.name}>{comment.commentedBy.name}</Link>  <span className=\"ml-2\" >{moment(comment.createdAt).calendar()}</span> </h5>\r\n                                    <p>\r\n                                        {comment.text}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                isAuthenticated\r\n                                &&\r\n                                comment.commentedBy._id === user._id\r\n                                &&\r\n                                <button type=\"button\" onClick={() => this.props.deleteComment(comment._id)} className=\"btn  btn-danger\">delete</button>\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default Comment;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\n\r\nimport { comment, unComment } from \"../../../store/actions/post\";\r\nimport SingleComment from \"./commentRender\";\r\nclass Comment extends React.Component {\r\n    state = {\r\n        text: \"\"\r\n    }\r\n    commentRef = React.createRef();\r\n\r\n    componentDidUpdate(prevprops) {\r\n        if (prevprops.comments.length !== this.props.comments.length) {\r\n            console.log(\"updated\");\r\n        }\r\n    }\r\n    submitHandler = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        const { postId } = this.props;\r\n        const { isAuthenticated } = this.props;\r\n        const text = this.commentRef.current.value\r\n        if (text.length && isAuthenticated) {\r\n            this.props.comment(postId, { text }, localStorage.jwt, (err) => {\r\n                if (!err) {\r\n                    this.setState({ text: \"\" })\r\n                    this.props.socket.emit(\"postUpdate\", postId)\r\n                    this.commentRef.current.value=\"\"\r\n                }\r\n            })\r\n        }\r\n        else {\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    deleteComment = (commentId) => {\r\n        const { postId } = this.props;\r\n        console.log(commentId,postId);\r\n\r\n        this.props.unComment(postId, commentId, localStorage.jwt, (err) => {\r\n            if (err) {\r\n                console.log(\"comment not deleted\");\r\n            }\r\n            else {\r\n                this.props.socket.emit(\"postUpdate\", postId)\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { comment, comments, isAuthenticated, user,postId } = this.props;\r\n        if (!comment) {\r\n            return <div>Loading</div>\r\n        }\r\n        else {\r\n            const newComments = _.sortBy(comments, [function (o) { return o.createdAt; }]).reverse();\r\n            return (\r\n                <div className=\"col-12 p-0\">\r\n                    <h2 className=\"my-5\">\r\n                        Leave a comment\r\n                    </h2>\r\n                    <form onSubmit={this.submitHandler} >\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                placeholder=\"Write comment\"\r\n                                className=\"form-control\"\r\n                                type=\"text\"\r\n                                ref={this.commentRef}\r\n                            />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-raised btn-success \">post</button>\r\n                    </form>\r\n                    <hr />\r\n                    <div className=\"col-12\">\r\n                        <h2> ({comments.length}) Comments </h2>\r\n                        {newComments.map(comment => (\r\n                            <SingleComment isAuthenticated={isAuthenticated} deleteComment={this.deleteComment} user={user} comment={comment} key={`comment/${postId} ${comment._id}`} />\r\n                        ))}\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        user: state.auth.user,\r\n        socket: state.socket\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { comment, unComment })(Comment);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { singlePost, deletePost, likeUnlike, postUpdate } from \"../../../store/actions/post\"\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from \"../../Modal\";\r\nimport Comments from \"./Comment\"\r\n\r\n\r\nclass SinglePost extends React.Component {\r\n    state = {\r\n        isLike: false\r\n    }\r\n    componentDidMount() {\r\n        this.props.singlePost(this.props.match.params.postId, (err) => {\r\n            if (err) {\r\n                console.log(err);\r\n            } else {\r\n\r\n            }\r\n        })\r\n        this.SockerHandler()\r\n\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.socket !== prevProps.socket) {\r\n            this.SockerHandler()\r\n        }\r\n    }\r\n    SockerHandler = () => {\r\n        const socket = this.props.socket;\r\n        if (socket) {\r\n            console.log(\"socket connected\")\r\n            socket.on('post', post => {\r\n                this.props.postUpdate(post)\r\n            })\r\n        }\r\n    }\r\n    likeToggle = () => {\r\n        this.props.likeUnlike(this.props.post._id, localStorage.jwt, (err) => {\r\n            if (err) {\r\n                console.log(err);\r\n            } else {\r\n                this.props.socket.emit(\"postUpdate\", this.props.post._id)\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { post, isAuthenticated, user, history } = this.props;\r\n        switch (post) {\r\n            case null:\r\n                return (\r\n                    <div className=\"text-center\">Loading</div>\r\n                )\r\n            default:\r\n                let isLike = false\r\n                if (isAuthenticated && post && user) {\r\n                    isLike = post.likes.find(like => like === user._id)\r\n                }\r\n\r\n                return (\r\n                    <div className=\"container-fluid\" style={{ width: \"90%\" }}>\r\n                        <h2 className=\"display-2 my-4\"> {post.title}</h2>\r\n                        <div className=\"col-md-12 card m-1 p-1\">\r\n                            <img className=\"card-image-top\" style={{\r\n                                width: \"100%\",\r\n                                height: \"400px\",\r\n                                objectFit: \"contain\"\r\n                            }}\r\n                                src={`/api/post/photo/${post._id}`}\r\n                                // onError={imgError}\r\n                                alt={`${post.name}'s Image`} />\r\n                            <div className=\"card-body p-2\">\r\n                                <div className=\"card-text\" dangerouslySetInnerHTML={{ __html: post.body }} />\r\n                                <hr />\r\n                                <p className=\"font-italic \">\r\n                                    Posted By\r\n                                            <Link to={`/user/${post.postedBy._id}`}>\r\n                                        <span className=\"mark\">\r\n                                            {post.postedBy.name}\r\n                                        </span>\r\n                                    </Link>\r\n                                    <br />\r\n                                    {/* on {new Date(post.createdAt).toDateString()} */}\r\n                                            on {moment(post.createdAt).format('lll')}\r\n                                </p>\r\n                                <h6 style={{ cursor: \"pointer\" }} className=\"d-inline-block\" onClick={this.likeToggle}  >\r\n                                    {post.likes.length}{\" \"}\r\n                                    {!isLike ? <i className=\"fa fa-thumbs-o-up ml-1 \" aria-hidden=\"true\"></i> :\r\n                                        <i className=\"fa fa-thumbs-up text-primary ml-1\" aria-hidden=\"true\"></i>\r\n                                    }\r\n                                </h6>\r\n                                <h6 style={{ cursor: \"pointer\" }} className=\"d-inline-block ml-3\" >\r\n                                    {post.comments.length}\r\n                                    <i className=\"fa fa-comments-o ml-1\" aria-hidden=\"true\"></i>\r\n                                </h6>\r\n                            </div>\r\n\r\n                        </div>\r\n                        {isAuthenticated && user._id === post.postedBy._id && (\r\n                            <div className=\"d-inline-block my-4 float-right\">\r\n                                <Link className=\"btn btn-raised btn-info mr-3\"\r\n                                    to={`/post/edit/${post._id}`}\r\n                                >\r\n                                    Edit Post\r\n                                </Link>\r\n                                <button className=\"btn btn-raised btn-danger\" data-toggle=\"modal\" data-target={`#post${post._id}`}>Delete Post</button>\r\n                                <Modal text=\"profile\" modelId={`post${post._id}`} deleteHandler={() => {\r\n                                    console.log(\"delete post\")\r\n                                    this.props.deletePost(post._id, localStorage.jwt, (err) => {\r\n                                        if (err) {\r\n                                            console.log(err)\r\n                                        }\r\n                                        else {\r\n\r\n                                            history.push('/')\r\n                                        }\r\n                                    })\r\n                                }} />\r\n                            </div>\r\n                        )}\r\n                        <div className=\"row\">\r\n                            <Comments postId={post._id} comments={post.comments} />\r\n                        </div>\r\n                    </div>\r\n                )\r\n        }\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        post: state.post.post,\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        user: state.auth.user,\r\n        socket: state.socket\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { singlePost, likeUnlike, deletePost, postUpdate })(SinglePost);","import React, { useEffect } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Home from './components/pages/Home';\r\nimport SignUp from './components/pages/user/Signup';\r\nimport Signin from './components/pages/user/Signin';\r\nimport Menu from './components/menu';\r\nimport Profile from './components/pages/user/Profile';\r\nimport Users from './components/pages/user/Users';\r\nimport EditProfile from './components/pages/user/EditProfile';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport FindPeople from './components/pages/user/FindUser';\r\nimport CreatePost from './components/pages/post/createPost';\r\nimport SinglePost from './components/pages/post/SinglePost';\r\nconst MainRouter = () => {\r\n    useEffect(() => {\r\n\r\n    })\r\n    return (\r\n        <div>\r\n            <Menu />\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <Route exact path=\"/users\" component={Users} />\r\n                <Route exact path=\"/signup\" component={SignUp} />\r\n                <Route exact path=\"/signin\" component={Signin} />\r\n                <Route exact path=\"/user/:userId\" component={Profile} />\r\n                <PrivateRoute exact path=\"/user/edit/:userId\" component={EditProfile} />\r\n                <PrivateRoute exact path=\"/findpeople\" component={FindPeople} />\r\n                <PrivateRoute exact path=\"/post/create\" component={CreatePost} />\r\n                <PrivateRoute exact path=\"/post/edit/:postId\" component={CreatePost} />\r\n                <Route exact path=\"/posts/:postId\" component={SinglePost} />\r\n                <Redirect to=\"/\" />\r\n\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\nexport default MainRouter;","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport { connect } from 'react-redux';\r\nimport { logedIn, notLogedIn } from './store/actions/user';\r\nimport MainRouter from './MainRouter'\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { connectSocket } from \"./store/actions/socketAction\";\r\nimport io from \"socket.io-client\";\r\nrequire('dotenv').config();\r\nconst App = (props) => {\r\n  useEffect(() => {\r\n    if (localStorage.jwt) {\r\n      props.logedIn(localStorage.jwt);\r\n    }\r\n    else {\r\n      props.notLogedIn();\r\n    }\r\n    props.connectSocket(io('http://localhost:8080'));\r\n\r\n  }, []);\r\n  return (\r\n    <Router>\r\n\r\n      <MainRouter />\r\n    </Router>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    socket: state.socket\r\n  }\r\n}\r\nexport default connect(mapStateToProps, { logedIn, notLogedIn, connectSocket })(App);\r\n","import { SOCKETCONNECTED } from \"./types\";\r\n// import io from \"socket.io-client\";\r\n\r\nexport const connectSocket = (socket) => {\r\n    return {\r\n        type: SOCKETCONNECTED,\r\n        payload: socket\r\n    }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\r\n    SIGNUP, SIGNIN,\r\n    SET_USER, LOGOUT,\r\n    AUTH_ERROR, ALL_USER,\r\n    SINGLE_USER, DELETE_PROFILE,\r\n    UPDATE_PROFILE,\r\n    NOT_LOGED_IN,\r\n    FOLLOW, UNFOLLOW,\r\n    FINDPEOPLE,\r\n    LIKESANDCOMMENTS,\r\n    LIKERECEIVE\r\n\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    user: null,\r\n    isAuthenticated: null,\r\n    token: null,\r\n    userList: null,\r\n    userProfile: null,\r\n    findPeople: null,\r\n    totalLikes: 0,\r\n    totalComments: 0,\r\n    likesReceive: 0,\r\n    commentsReceive: 0\r\n}\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case LIKERECEIVE:\r\n            return {\r\n                ...state,\r\n                commentsreceive: action.payload.comments_receive,\r\n                likesreceive: action.payload.likes_receive\r\n\r\n            }\r\n        case LIKESANDCOMMENTS:\r\n            return {\r\n                ...state,\r\n                totalLikes: action.payload.likes_post,\r\n                totalComments: action.payload.comments_post\r\n            }\r\n        case SIGNUP:\r\n        case SIGNIN:\r\n            return {\r\n                ...state,\r\n                token: action.payload.token,\r\n                isAuthenticated: true,\r\n                user: action.payload.user\r\n            }\r\n\r\n        case SET_USER:\r\n        case UNFOLLOW:\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                user: action.payload,\r\n                isAuthenticated: true,\r\n            }\r\n        case UPDATE_PROFILE:\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n\r\n            }\r\n        case AUTH_ERROR:\r\n        case NOT_LOGED_IN:\r\n        case LOGOUT:\r\n            return {\r\n                ...state,\r\n                user: null,\r\n                isAuthenticated: false,\r\n                token: null\r\n            }\r\n        case ALL_USER:\r\n            return {\r\n                ...state,\r\n                userList: action.payload\r\n            }\r\n        case SINGLE_USER:\r\n            return {\r\n                ...state,\r\n                userProfile: action.payload\r\n            }\r\n        case DELETE_PROFILE:\r\n            return {\r\n                ...state,\r\n                user: null,\r\n                isAuthenticated: false,\r\n                token: null,\r\n                userProfile: null\r\n\r\n            }\r\n        case FINDPEOPLE:\r\n            return {\r\n                ...state,\r\n                findPeople: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default userReducer;","import { GETALLPOST, SINGLEPOST, POSTBY_USER, LIKE_UNLIKE, COMMENT, UNCOMMENT } from '../actions/types';\r\nconst initialState = {\r\n    posts: [],\r\n    post: null,\r\n    postbyUser: []\r\n}\r\nconst postReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GETALLPOST:\r\n            return {\r\n                ...state,\r\n                posts: action.payload\r\n            };\r\n        case SINGLEPOST:\r\n            return {\r\n                ...state,\r\n                post: action.payload\r\n            }\r\n        case POSTBY_USER:\r\n            return {\r\n                ...state,\r\n                postbyUser: action.payload\r\n            }\r\n        case LIKE_UNLIKE:\r\n        case UNCOMMENT:\r\n        case COMMENT:\r\n            return {\r\n                ...state,\r\n                post: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default postReducer;","import { SOCKETCONNECTED } from \"../actions/types\";\r\n\r\nconst initialState = null\r\n\r\nconst Socket = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SOCKETCONNECTED:\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport default Socket;","import { combineReducers } from 'redux'\r\nimport user from './user';\r\nimport post from './post';\r\nimport socket from \"./socketReducer\";\r\nexport default combineReducers({\r\n    auth: user,\r\n    post,\r\n    socket\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { createStore,compose } from 'redux';\nimport { applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './store/reducers';\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)))\n\nReactDOM.render(\n  <Provider store={store}>\n\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}