(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a(280)},119:function(e,t,a){},120:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},274:function(e,t){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),s=(a(119),a(5)),l=(a(120),a(6)),i=a(1),m=a.n(i),u=a(3),d=a(8),p=a.n(d),f=a(9),b=function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("/api/post/single/".concat(e));case 3:r=a.sent,n({type:"SINGLEPOST",payload:r.data}),t(null,r.data),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("Post not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},h=function(){var e=Object(u.a)(m.a.mark((function e(t,a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(u.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/post/".concat(t),{headers:{Authorization:a}});case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n("post not deleted");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),E=function(e,t,a,n){return function(){var r=Object(u.a)(m.a.mark((function r(c){var o;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.put("/api/post/uncomment/".concat(e,"/").concat(t),{},{headers:{Authorization:a}});case 3:o=r.sent,console.log(o.data),c({type:"UNCOMMENT",payload:o.data}),n(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log("error=>>>>>>",r.t0),n("comment not deleted");case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},v=(a(142),function(){return r.a.createElement("svg",{className:"spinner",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"}))}),g=a(4),y=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},N=(a(143),Object(l.b)((function(e){return{posts:e.post.posts}}),{getAllPost:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/post/getAllpost");case 3:r=t.sent,console.log(n().socket.emit("one",{data:"one"})),a({type:"GETALLPOST",payload:r.data}),e(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),e("Posts not fetched");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.posts,a=e.getAllPost,c=Object(n.useState)(null),o=Object(s.a)(c,2),l=o[0],i=o[1],d=Object(n.useState)(!0),p=Object(s.a)(d,2),f=p[0],b=p[1],h=Object(n.useState)(""),E=Object(s.a)(h,2),N=E[0],w=E[1];Object(n.useEffect)((function(){a((function(e){e?(b(!1),i(e)):b(!1)}))}),[a]);var O=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=y(),t.target.className+=" postImgErr",console.log(t.target.className);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=t?t.filter((function(e){var t=new RegExp("".concat(N),"gi");return e.title.match(t)||e.body.match(t)})):[];return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"form-group w-75"},r.a.createElement("input",{placeholder:"search from posts",onChange:function(e){w(e.target.value)},value:N,name:"search",className:"form-control"}))),r.a.createElement("h2",{className:"my-5 text-center"},"Recent Posts"),l&&r.a.createElement("div",{className:"alert alert-warning"},l),t&&r.a.createElement("div",{className:"row justify-content-center"},j.map((function(e){return r.a.createElement("div",{className:"col-md-4 card m-1 p-1 singlePost",style:{width:"18rem"},key:"Users ".concat(e._id)},r.a.createElement("img",{className:"card-image-top",src:"/api/post/photo/".concat(e._id),onError:O,alt:"".concat(e.name,"'s Image")}),r.a.createElement("div",{className:"card-body p-2"},r.a.createElement("h2",{className:"card-title"},e.title),r.a.createElement("div",{className:"card-text",dangerouslySetInnerHTML:{__html:e.body.substring(0,100)}}),r.a.createElement("hr",null),r.a.createElement("p",{className:"font-italic "},"Posted By",r.a.createElement(g.b,{to:"/user/".concat(e.postedBy._id)},r.a.createElement("span",{className:"mark"},e.postedBy.name)),r.a.createElement("br",null),"on ",new Date(e.createdAt).toDateString()),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(g.b,{to:"/posts/".concat(e._id),className:"btn btn-raised btn-sm btn-primary"},"Read more"),r.a.createElement("h6",{style:{cursor:"pointer"},className:"d-inline-block"},e.likes.length," ",r.a.createElement("i",{className:"fa fa-thumbs-o-up ml-1 ","aria-hidden":"true"})," ",e.likes.length,r.a.createElement("i",{className:"fa fa-comments-o ml-1","aria-hidden":"true"})))))}))),f&&r.a.createElement(v,null))}))),w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null))},O=a(12),j=a(2),k=Object(l.b)(null,{signup:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("/api/auth/signup",e);case 3:r=a.sent,localStorage.setItem("jwt","Bearer ".concat(r.data.token)),n({type:"SIGNUP",payload:r.data}),t(),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),c=Boolean(a.t0.response)?a.t0.response.status:0,t(403===c||404===c?a.t0.response.data:{error:"Something went Wrong"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)({name:"",email:"",password:""}),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),m=i[0],u=i[1],d=Object(n.useState)({}),p=Object(s.a)(d,2),f=p[0],b=p[1],h=c.name,E=c.email,v=c.password,y=function(e){o(Object(j.a)(Object(j.a)({},c),{},Object(O.a)({},e.target.name,e.target.value)));var t=Object(j.a)({},f);delete t[e.target.name],b(Object(j.a)({},t))};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignUp Form"),Object.keys(f).length>0&&r.a.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},r.a.createElement("ul",null,Object.keys(f).map((function(e){return f[e]?r.a.createElement("li",{key:"signin ".concat(e)},f[e]):null}))),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signup(c,(function(t){u(!1),t?b(t):(o({email:"",password:""}),e.history.push("/"))}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{autoFocus:!0,type:"text",value:h,onChange:y,name:"name",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{type:"email",value:E,onChange:y,name:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{type:"password",value:v,onChange:y,name:"password",className:"form-control"})),r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:m},m?"Loading":"Signup"," ")),r.a.createElement("div",{class:"alert alert-dark",role:"alert"},"Already have an account ",r.a.createElement(g.b,{to:"/signin"},"Signin")," instead."))})),x=Object(l.b)(null,{signin:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("/api/auth/signin",e);case 3:r=a.sent,localStorage.setItem("jwt","Bearer ".concat(r.data.token)),n({type:"SIGNIN",payload:r.data}),t(),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),c=Boolean(a.t0.response)?a.t0.response.status:0,t(403===c||404===c?a.t0.response.data:{error:"Something went Wrong"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)({email:"",password:"",remember:!1}),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),m=i[0],u=i[1],d=c.email,p=c.password,f=c.remember,b=Object(n.useState)({}),h=Object(s.a)(b,2),E=h[0],v=h[1],y=function(e){o(Object(j.a)(Object(j.a)({},c),{},Object(O.a)({},e.target.name,e.target.value)));var t=Object(j.a)({},E);delete t[e.target.name],v(Object(j.a)({},t))};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignIn Form"),Object.keys(E).length>0&&r.a.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},r.a.createElement("ul",null,Object.keys(E).map((function(e){return E[e]?r.a.createElement("li",{key:"signin ".concat(e)},E[e]):null}))),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),u(!0),e.signin(c,(function(t){u(!1),t?v(t):(o({email:"",password:""}),e.history.push("/"))}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{autoFocus:!0,type:"email",value:d,onChange:y,name:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{type:"password",value:p,onChange:y,name:"password",className:"form-control"})),r.a.createElement("div",{class:"form-check my-3"},r.a.createElement("input",{name:"remember",value:f,defaultChecked:f,type:"checkbox",onClick:function(e){o(Object(j.a)(Object(j.a)({},c),{},Object(O.a)({},e.target.name,e.target.checked)))},class:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{class:"form-check-label",for:"exampleCheck1"},"Remember me")),r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:m},m?"Loading":"Login"," ")),r.a.createElement("div",{className:"alert alert-dark",role:"alert"},"Not have an account ",r.a.createElement(g.b,{to:"/signup"},"Signup")," instead."))})),S=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/auth/signout");case 3:a({type:"LOGOUT"}),e(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(f.g)((function(e){var t=e.history,a=e.logout,n=e.isAuthenticated,c=e.user,o=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=y(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Social Network"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item ".concat("/"===t.location.pathname&&"active")},r.a.createElement(g.b,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item ".concat("/users"===t.location.pathname&&"active")},r.a.createElement(g.b,{className:"nav-link",to:"/users"},"Users ",r.a.createElement("span",{className:"sr-only"},"(current)"))),function(){switch(n){case!1:return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item ".concat("/signup"===t.location.pathname&&"active")},r.a.createElement(g.b,{className:"nav-link",to:"/signup"},"SignUp")),r.a.createElement("li",{className:"nav-item ".concat("/signin"===t.location.pathname&&"active")},r.a.createElement(g.b,{className:"nav-link",to:"/signin"},"SignIn")));case!0:default:return}}(),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item ".concat("/findpeople"===t.location.pathname&&"active")},r.a.createElement(g.b,{className:"nav-link",to:"/findpeople"},"Find People")),r.a.createElement("li",{className:"nav-item ".concat("/post/create"===t.location.pathname&&"active")},r.a.createElement(g.b,{className:"nav-link",to:"/post/create"},"Create Post")))),n&&r.a.createElement("ul",{className:"navbar-nav  mt-2 mt-lg-0 justify-content-end"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("img",{src:"/api/user/photo/".concat(c._id),onError:o,className:"float-left mr-2",height:"35px",width:"35px",style:{borderRadius:"50%"}}),r.a.createElement("a",{href:"/user/".concat(c._id),type:"button",className:"btn text-light"},c.name),r.a.createElement("button",{type:"button",className:"btn dropdown-toggle dropdown-toggle-split text-light","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right   "},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Another action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){a((function(){localStorage.removeItem("jwt"),t.push("/signin")}))}},"Signout")))))))}))),_=function(e){var t=e.deleteHandler,a=e.text,n=e.modelId;return r.a.createElement("div",{className:"modal fade",id:n,tabIndex:"-1",role:"dialog","aria-labelledby":"mymodal","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Delete ",a),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},"Are your sure you want to delete ",a,"?"),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:t},"Delete")))))},I=Object(l.b)(null,{userfollow:function(e,t,a){return function(){var n=Object(u.a)(m.a.mark((function n(r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.put("/api/user/follow/",{followid:e},{headers:{Authorization:t}});case 3:c=n.sent,r({type:"FOLLOW",payload:c.data}),a(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a("something went wrong please try again");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},unFollow:function(e,t,a){return function(){var n=Object(u.a)(m.a.mark((function n(r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.put("/api/user/unfollow/",{unfollowid:e},{headers:{Authorization:t}});case 3:c=n.sent,r({type:"UNFOLLOW",payload:c.data}),a(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a("something went wrong please try again");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.followingList,a=e.followingId,c=e.userfollow,o=e.unFollow,l=e.extraclass,i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],d=m[1];return Object(n.useEffect)((function(){d(!!t&&t.find((function(e){return e._id===a}))),console.log("follow")}),[t,a]),r.a.createElement("div",{className:"d-inline-block"},u?r.a.createElement("button",{className:"btn btn-warning btn-raised ".concat(l),onClick:function(){o(a,localStorage.jwt,(function(e){e||d(!u)}))}},"UnFollow"):r.a.createElement("button",{className:"btn btn-success btn-raised ".concat(l),onClick:function(){c(a,localStorage.jwt,(function(e){e||d(!u)}))}},"Follow"))})),A=function(e){var t=e.follower,a=e.following,n=e.posts,c=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=y(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Followers (",t.length,")"),r.a.createElement("hr",null),t.map((function(e){return r.a.createElement("div",{key:"tabfollowing".concat(e._id)},r.a.createElement("div",{className:"row  mt-2 p-2"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/user/".concat(e._id)},r.a.createElement("img",{className:"float-left mr-2",height:"40px",width:"40px",style:{borderRadius:"50%",border:".8px solid #707070"},src:"/api/user/photo/".concat(e._id,"?").concat((new Date).getTime()),alt:"".concat(e.name),onError:c}),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",null,e.name))))))}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Following (",a.length,")"),r.a.createElement("hr",null),a.map((function(e){return r.a.createElement("div",{key:"tabfollower".concat(e._id)},r.a.createElement("div",{className:"row  mt-2 p-2"},r.a.createElement("div",{className:""},r.a.createElement(g.b,{to:"/user/".concat(e._id)},r.a.createElement("img",{className:"float-left mr-2",height:"40px",width:"40px",style:{borderRadius:"50%",border:".8px solid #707070"},src:"/api/user/photo/".concat(e._id,"?").concat((new Date).getTime()),alt:"".concat(e.name),onError:c}),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",null,e.name))))))}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Post (",n.length,")"),r.a.createElement("hr",null),n.map((function(e){return r.a.createElement("div",{key:"tabfollower".concat(e._id)},r.a.createElement("div",{className:"row  mt-2 p-2"},r.a.createElement("div",{className:""},r.a.createElement(g.b,{to:"/posts/".concat(e._id)},r.a.createElement("img",{className:"float-left mr-2",height:"40px",width:"40px",style:{borderRadius:"50%",border:".8px solid #707070"},src:"/api/post/photo/".concat(e._id,"?").concat((new Date).getTime()),alt:"".concat(e.name),onError:c}),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",null,e.title))))))})))))},P=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,users:e.auth.userList,user:e.auth.user,userProfile:e.auth.userProfile,postbyUserList:e.post.postbyUser,totalLikes:e.auth.totalLikes,totalComments:e.auth.totalComments,likesreceive:e.auth.likesreceive,commentsreceive:e.auth.commentsreceive}}),{singleUser:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("/api/user/".concat(e));case 3:r=a.sent,n({type:"SINGLE_USER",payload:r.data}),t(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("User not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteProfile:function(e,t,a){return function(){var n=Object(u.a)(m.a.mark((function n(r){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.delete("/api/user/".concat(e),{headers:{Authorization:t}});case 3:localStorage.removeItem("jwt"),r({type:"DELETE_PROFILE"}),a(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a("user not deleted");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},postByUser:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("/api/post/by/".concat(e));case 3:r=a.sent,n({type:"POSTBY_USER",payload:r.data}),t(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("user post not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},likesAndcomments:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("/api/user/likesgave",{headers:{Authorization:e}});case 3:r=a.sent,n({type:"LIKESANDCOMMENTS",payload:r.data}),t(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t("likes and comment not found");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},likesReceive:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("/api/user/likesreceive",{headers:{Authorization:e}});case 3:r=a.sent,n({type:"LIKERECEIVE",payload:r.data}),t(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({error:"Something went Wrong"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.user,c=e.isAuthenticated,o=e.singleUser,l=e.totalComments,i=e.totalLikes,d=e.commentsreceive,p=e.likesreceive,f=e.userProfile,b=e.deleteProfile,h=e.history,E=e.postByUser,v=e.postbyUserList,N=e.likesAndcomments,w=e.likesReceive,O=Object(n.useState)(null),j=Object(s.a)(O,2),k=j[0],x=j[1],S=Object(n.useState)(null),P=Object(s.a)(S,2),L=P[0],C=P[1];Object(n.useEffect)((function(){k||(x(t.params.userId),E(t.params.userId,(function(e){C(e)})),o(t.params.userId,(function(e){e&&C(e)}))),c&&(N(localStorage.jwt,(function(){})),w(localStorage.jwt,(function(){})))}),[k,c,o,E]);var U=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=y(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container-fluid px-5"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),L&&r.a.createElement("div",{className:"alert alert-danger"},L),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"card-image-top",style:{width:"100%",height:"20vw",objectFit:"contain"},src:"/api/user/photo/".concat(f._id,"?").concat((new Date).getTime()),onError:U,alt:"".concat(f.name,"'s Image")})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"lead mt-2"},r.a.createElement("p",null,"hello: ",f.name),r.a.createElement("p",null,"Email: ",f.email),r.a.createElement("p",null,"joined on:",new Date(f.createdAt).toDateString()," ")),r.a.createElement("hr",null),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex my-3"},r.a.createElement("h5",{className:"mr-3"},"Likes Receive ",r.a.createElement("span",{class:"badge badge-primary"},p)),r.a.createElement("h5",{className:""},"Coments Receive ",r.a.createElement("span",{class:"badge badge-primary"},d))),r.a.createElement("div",{className:"d-flex my-3"},r.a.createElement("h5",{className:"mr-3"},"Likes post ",r.a.createElement("span",{class:"badge badge-secondary"},i)),r.a.createElement("h5",{className:""},"coments post ",r.a.createElement("span",{class:"badge badge-secondary"},l)))),c&&a._id===k?r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(g.b,{className:"btn btn-raised btn-info mr-3",to:"/post/create"},"Create Post"),r.a.createElement(g.b,{className:"btn btn-raised btn-success mr-3",to:"/user/edit/".concat(f._id)},"Edit Profile"),r.a.createElement("button",{className:"btn btn-raised btn-danger","data-toggle":"modal","data-target":"#profile".concat(a._id)},"Delete "),r.a.createElement(_,{text:"profile",modelId:"profile".concat(a._id),deleteHandler:function(){b(a._id,localStorage.jwt,(function(e){e?console.log(e):h.push("/signin")}))}})):r.a.createElement(I,{followingList:a?a.following:[],followingId:f._id}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 my-5"},r.a.createElement("hr",null),r.a.createElement("div",{className:"lead"},f.about),r.a.createElement("hr",null),r.a.createElement(A,{posts:v,follower:f.follower,following:f.following})))))})),L=Object(l.b)((function(e){return{users:e.auth.userList,socket:e.socket}}),{allUser:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/user/alluser");case 3:n=t.sent,a({type:"ALL_USER",payload:n.data}),e(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),e("User not fetched");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.allUser,a=e.users,c=e.socket,o=Object(n.useState)(null),l=Object(s.a)(o,2),i=l[0],d=l[1],p=Object(n.useState)(!0),f=Object(s.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(!1),N=Object(s.a)(E,2),w=(N[0],N[1],Object(n.useState)("")),O=Object(s.a)(w,2),j=(O[0],O[1]);Object(n.useEffect)((function(){t((function(e){e?(h(!1),d(e)):h(!1)}))}),[t]),Object(n.useEffect)((function(){c&&(c.emit("neweve","neweve called"),c.on("hi",(function(e){console.log("data=>",e)})),c.on("postall",(function(e){console.log("asd=>",e),j(e.some)})))}),[c]);var k=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=y(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"my-5 text-center"},"Users"),i&&r.a.createElement("div",{className:"alert alert-warning"},i),a&&r.a.createElement("div",{className:"row no-gutters justify-content-center"},a.map((function(e){return r.a.createElement("div",{className:"col-sm-12 col-md-3 card m-1 singlePost",style:{width:"18rem"},key:"Users ".concat(e._id)},r.a.createElement("img",{className:"card-image-top ",src:"/api/user/photo/".concat(e._id),onError:k,alt:"".concat(e.name,"'s Image")}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email," "),r.a.createElement(g.b,{to:"/user/".concat(e._id),className:"btn btn-raised btn-sm btn-primary"},"View Profile ")))}))),b&&r.a.createElement(v,null))})),C=new FormData,U=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{editProfile:function(e,t,a,n){return function(){var r=Object(u.a)(m.a.mark((function r(c){var o;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.put("/api/user/".concat(e),t,{headers:{Authorization:a}});case 3:o=r.sent,c({type:"UPDATE_PROFILE",payload:o.data}),n(),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0),n("user not updated");case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.user,c=e.editProfile,o=Object(n.useState)({name:"",email:"",password:"",about:""}),l=Object(s.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),E=h[0],v=h[1];Object(n.useEffect)((function(){if(t){var e=a.name,n=a.email,r=a.about;m(Object(j.a)(Object(j.a)({},i),{},{name:e,email:n,about:r}))}}),[t]);var g=function(e){C.set([e.target.name],e.target.value),m(Object(j.a)(Object(j.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))},y=i.name,N=i.email,w=i.password,k=i.about;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"}," EditProfile ")," ",p?r.a.createElement("div",{class:"alert ".concat(E?"alert-danger":"alert-success"," alert-dismissible fade show"),role:"alert"}," ",E||"updated successfully"," ",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"}," & times; ")," ")," "):null,r.a.createElement("img",{className:"img-thumbnail",style:{width:"200",height:"20vw",objectFit:"cover"},src:"/api/user/photo/".concat(a._id,"?").concat((new Date).getTime()),alt:"".concat(a.name,"'s Image")}),r.a.createElement("form",{onSubmit:function(e){var t=i.name,n=i.email,r=i.password;i.about;e.preventDefault(),r&&r.length>=1&&r.length<=5&&(v("password must be greater than 6 character"),f(!0),setTimeout((function(){v(""),f(!1)}),2e3)),t&&n?c(a._id,C,localStorage.jwt,(function(e){e?(v(e),f(!0),setTimeout((function(){v(""),f(!1)}),2e3)):(f(!0),setTimeout((function(){v(""),f(!1)}),2e3))})):(v("name and email must required to perform this actions"),f(!0),setTimeout((function(){v(""),f(!1)}),2e3))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"profile Photo "),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){C.set([e.target.name],e.target.files[0]),e.target.files[0].size>1048575&&(v("file must not grather than 1 mb"),f(!0),setTimeout((function(){v(""),f(!1)}),2e3)),m(Object(j.a)(Object(j.a)({},i),{},Object(O.a)({},e.target.name,e.target.files[0])))},name:"photo",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name ")," ",r.a.createElement("input",{type:"text",value:y,onChange:g,name:"name",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{type:"email",value:N,onChange:g,name:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password "),r.a.createElement("input",{type:"password",value:w,onChange:g,name:"password",className:"form-control"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"About ")," ",r.a.createElement("textarea",{type:"text",value:k,onChange:g,name:"about",className:"form-control"})))," ",r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:p}," ",p?"Updating Profile":"Update Profile"," ")," ")," ")})),T=a(113),D=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.component,a=e.isAuthenticated,n=Object(T.a)(e,["component","isAuthenticated"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){switch(a){case null:return r.a.createElement("div",null,r.a.createElement("h1",{className:"mt-5 mb-5"},"Loading"));case!1:return r.a.createElement(f.a,{to:"/signin"});default:return r.a.createElement(t,e)}}}))})),R=Object(l.b)((function(e){return{users:e.auth.findPeople,authuser:e.auth.user}}),{findPeople:function(e,t){return function(){var a=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("/api/user/suggestion",{headers:{Authorization:e}});case 3:r=a.sent,n({type:"FINDPEOPLE",payload:r.data}),t(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("User not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.findPeople,a=e.users,c=e.authuser,o=Object(n.useState)(null),l=Object(s.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(!0),d=Object(s.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){t(localStorage.jwt,(function(e){e?(f(!1),m(e)):f(!1)}))}),[localStorage.jwt]);return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"my-5 text-center"},"Find People"),i&&r.a.createElement("div",{className:"alert alert-warning"},i),a&&r.a.createElement("div",{className:"row no-gutters justify-content-center"},a.map((function(e){return r.a.createElement("div",{className:"col-md-3 card m-1",style:{width:"18rem"},key:"Users ".concat(e._id)},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email," "),r.a.createElement(g.b,{to:"/user/".concat(e._id),className:"btn btn-raised btn-sm btn-primary"},"View Profile "),r.a.createElement(I,{extraclass:"ml-1",followingList:c?c.following:[],followingId:e._id})))}))),p&&r.a.createElement(v,null))})),F=a(21),B=a(22),M=a(24),z=a(23),G=a(27),H=a.n(G),K=(a(247),function(e){Object(M.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.handleChange=function(t){e.setState({text:t})},e}return Object(B.a)(a,[{key:"render",value:function(){return H.a.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]],clipboard:{matchVisual:!1}},H.a.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link"],r.a.createElement(H.a,{value:this.props.value,name:this.props.name,onChange:this.props.onChange,modules:H.a.modules,formats:H.a.formats,theme:"snow",placeholder:"write something"})}}]),a}(r.a.Component)),W=new FormData,V=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{createPost:function(e,t,a){return function(){var n=Object(u.a)(m.a.mark((function n(r){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("/api/post/createpost",e,{headers:{Authorization:t}});case 3:a(),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0),a("Post not created");case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},singlePost:b,updatePost:function(e,t,a){return function(){var n=Object(u.a)(m.a.mark((function n(r){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.put("/api/post/".concat(e._id),e,{headers:{Authorization:t}});case 3:a(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a("post not updated");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.match,c=e.user,o=e.createPost,l=e.history,i=e.singlePost,m=e.updatePost,u=Object(n.useState)({title:"",body:"",photo:""}),d=Object(s.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)(""),y=Object(s.a)(g,2),N=y[0],w=y[1];Object(n.useEffect)((function(){a.params.postId&&i(a.params.postId,(function(e,t){e?w(e):f(Object(j.a)(Object(j.a)({},p),t))}))}),[t,a.params.postId,i]);var k=p.title,x=p.body;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"}," ",a.params.postId?"Update":"Create"," New Post ")," ",E?r.a.createElement("div",{className:"alert ".concat(N?"alert-danger":"alert-success"," alert-dismissible fade show"),role:"alert"}," ",N||"updated successfully"," ",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"}," \xd7 ")," ")," "):null,r.a.createElement("img",{className:"img-thumbnail",style:{width:"200",height:"20vw",objectFit:"cover"},src:"/api/post/photo/".concat(p._id),alt:"".concat(k,"'s Image")}),r.a.createElement("form",{onSubmit:function(e){var t=p.title,n=p.body;e.preventDefault(),t&&n?a.params.postId?(W._id=p._id,m(W,localStorage.jwt,(function(e){e?(w(e),v(!0),setTimeout((function(){w(""),v(!1)}),2e3)):(v(!0),setTimeout((function(){w(""),v(!1)}),2e3))}))):o(W,localStorage.jwt,(function(e){e?(w(e),v(!0),setTimeout((function(){w(""),v(!1)}),2e3)):(v(!0),l.push("/user/".concat(c._id)),f({}),setTimeout((function(){w(""),v(!1)}),2e3))})):(w("please fill all field"),v(!0),setTimeout((function(){w(""),v(!1)}),2e3))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"profile Photo "),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){W.set([e.target.name],e.target.files[0]),e.target.files[0].size>1048575&&(w("file must not grather than 1 mb"),v(!0),setTimeout((function(){w(""),v(!1)}),2e3)),f(Object(j.a)(Object(j.a)({},p),{},Object(O.a)({},e.target.name,e.target.files[0])))},name:"photo",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title ")," ",r.a.createElement("input",{type:"text",value:k,onChange:function(e){W.set([e.target.name],e.target.value),f(Object(j.a)(Object(j.a)({},p),{},Object(O.a)({},e.target.name,e.target.value)))},name:"title",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"body"),r.a.createElement(K,{name:"body",value:x,onChange:function(e){W.set("body",e),f(Object(j.a)(Object(j.a)({},p),{},{body:e}))},className:"form-control"})),r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:E}," ",a.params.postId?"Update":"create "," post"," ")," ")," ")})),q=a(50),J=a.n(q),X=a(110),Y=a.n(X),$=function(e){Object(M.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).imgError=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=y(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(B.a)(a,[{key:"componentDidUpdate",value:function(e){e.comment._id!==this.props.comment._id&&console.log("comment updated ")}},{key:"render",value:function(){var e=this,t=this.props,a=t.comment,n=t.user,c=t.isAuthenticated;return r.a.createElement("div",{key:"tabfollower".concat(a._id)},r.a.createElement("div",{className:"row mt-2 p-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{class:"media"},r.a.createElement(g.b,{to:"/user/".concat(a.commentedBy._id),title:a.commentedBy.name},r.a.createElement("img",{src:"http://localhost:8080/api/user/photo/".concat(a.commentedBy._id,"?").concat((new Date).getTime()),class:"mr-3",onError:this.imgError})),r.a.createElement("div",{class:"media-body"},r.a.createElement("h5",{style:{lineHeight:".5"},class:"mt-0"},r.a.createElement(g.b,{to:"/user/".concat(a.commentedBy._id),title:a.commentedBy.name},a.commentedBy.name),"  ",r.a.createElement("span",{className:"ml-2"},J()(a.createdAt).calendar())," "),r.a.createElement("p",null,a.text))),c&&a.commentedBy._id===n._id&&r.a.createElement("button",{type:"button",onClick:function(){return e.deleteComment(a._id)},className:"btn  btn-danger"},"delete")))))}}]),a}(r.a.Component),Q=function(e){Object(M.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={text:""},e.commentRef=r.a.createRef(),e.submitHandler=function(t){t.preventDefault();var a=e.props.postId,n=e.props.isAuthenticated,r=e.commentRef.current.value;r.length&&n&&e.props.comment(a,{text:r},localStorage.jwt,(function(t){t||(e.setState({text:""}),e.props.socket.emit("postUpdate",a))}))},e.deleteComment=function(t){var a=e.props.postId;E(a,t,localStorage.jwt,(function(t){t?console.log("comment not deleted"):e.props.socket.emit("postUpdate",a)}))},e}return Object(B.a)(a,[{key:"componentDidUpdate",value:function(e){e.comments.length!==this.props.comments.length&&console.log("updated")}},{key:"render",value:function(){var e=this.props,t=e.comment,a=e.comments,n=e.isAuthenticated,c=e.user;if(t){var o=Y.a.sortBy(a,[function(e){return e.createdAt}]).reverse();return r.a.createElement("div",{className:"col-12 p-0"},r.a.createElement("h2",{className:"my-5"},"Leave a comment"),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"Write comment",className:"form-control",type:"text",ref:this.commentRef})),r.a.createElement("button",{type:"submit",className:"btn btn-raised btn-success "},"post")),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",null," (",a.length,") Comments "),o.map((function(e){return r.a.createElement($,{isAuthenticated:n,user:c,comment:e})}))))}return r.a.createElement("div",null,"Loading")}}]),a}(r.a.Component),Z=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,socket:e.socket}}),{comment:function(e,t,a,n){return function(){var r=Object(u.a)(m.a.mark((function r(c){var o;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.put("/api/post/comment/".concat(e),{comment:t.text},{headers:{Authorization:a}});case 3:o=r.sent,c({type:"COMMENT",payload:o.data}),n(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n("comment not posted");case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},unComment:E})(Q),ee=function(e){Object(M.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLike:!1},e.SockerHandler=function(){var t=e.props.socket;t&&(console.log("socket connected"),t.on("post",(function(t){e.props.postUpdate(t)})))},e.likeToggle=function(){e.props.likeUnlike(e.props.post._id,localStorage.jwt,(function(t){t?console.log(t):e.props.socket.emit("postUpdate",e.props.post._id)}))},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.props.singlePost(this.props.match.params.postId,(function(e){e&&console.log(e)})),this.SockerHandler()}},{key:"componentDidUpdate",value:function(e){this.props.socket!==e.socket&&this.SockerHandler()}},{key:"render",value:function(){var e=this,t=this.props,a=t.post,n=t.isAuthenticated,c=t.user,o=t.history;switch(a){case null:return r.a.createElement("div",{className:"text-center"},"Loading");default:var s=!1;return n&&a&&c&&(s=a.likes.find((function(e){return e===c._id}))),r.a.createElement("div",{className:"container-fluid",style:{width:"90%"}},r.a.createElement("h2",{className:"display-2 my-4"}," ",a.title),r.a.createElement("div",{className:"col-md-12 card m-1 p-1"},r.a.createElement("img",{className:"card-image-top",style:{width:"100%",height:"400px",objectFit:"contain"},src:"/api/post/photo/".concat(a._id),alt:"".concat(a.name,"'s Image")}),r.a.createElement("div",{className:"card-body p-2"},r.a.createElement("div",{className:"card-text",dangerouslySetInnerHTML:{__html:a.body}}),r.a.createElement("hr",null),r.a.createElement("p",{className:"font-italic "},"Posted By",r.a.createElement(g.b,{to:"/user/".concat(a.postedBy._id)},r.a.createElement("span",{className:"mark"},a.postedBy.name)),r.a.createElement("br",null),"on ",J()(a.createdAt).format("lll")),r.a.createElement("h6",{style:{cursor:"pointer"},className:"d-inline-block",onClick:this.likeToggle},a.likes.length," ",s?r.a.createElement("i",{className:"fa fa-thumbs-up text-primary ml-1","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-thumbs-o-up ml-1 ","aria-hidden":"true"})),r.a.createElement("h6",{style:{cursor:"pointer"},className:"d-inline-block ml-3"},a.comments.length,r.a.createElement("i",{className:"fa fa-comments-o ml-1","aria-hidden":"true"})))),n&&c._id===a.postedBy._id&&r.a.createElement("div",{className:"d-inline-block my-4 float-right"},r.a.createElement(g.b,{className:"btn btn-raised btn-info mr-3",to:"/post/edit/".concat(a._id)},"Edit Post"),r.a.createElement("button",{className:"btn btn-raised btn-danger","data-toggle":"modal","data-target":"#post".concat(a._id)},"Delete Post"),r.a.createElement(_,{text:"profile",modelId:"post".concat(a._id),deleteHandler:function(){e.props.deletePost(a._id,localStorage.jwt,(function(e){e?console.log(e):o.push("/")}))}})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{postId:a._id,comments:a.comments})))}}}]),a}(r.a.Component),te=Object(l.b)((function(e){return{post:e.post.post,isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,socket:e.socket}}),{singlePost:b,likeUnlike:function(e,t,a){return function(){var n=Object(u.a)(m.a.mark((function n(r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.put("/api/post/like/".concat(e),{},{headers:{Authorization:t}});case 3:c=n.sent,r({type:"LIKE_UNLIKE",payload:c.data}),a(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a("likes not updated");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},deletePost:h,postUpdate:function(e){return{type:"LIKE_UNLIKE",payload:e}}})(ee),ae=function(){return Object(n.useEffect)((function(){})),r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:w}),r.a.createElement(f.b,{exact:!0,path:"/users",component:L}),r.a.createElement(f.b,{exact:!0,path:"/signup",component:k}),r.a.createElement(f.b,{exact:!0,path:"/signin",component:x}),r.a.createElement(f.b,{exact:!0,path:"/user/:userId",component:P}),r.a.createElement(D,{exact:!0,path:"/user/edit/:userId",component:U}),r.a.createElement(D,{exact:!0,path:"/findpeople",component:R}),r.a.createElement(D,{exact:!0,path:"/post/create",component:V}),r.a.createElement(D,{exact:!0,path:"/post/edit/:postId",component:V}),r.a.createElement(f.b,{exact:!0,path:"/posts/:postId",component:te}),r.a.createElement(f.a,{to:"/"})))},ne=a(111),re=a.n(ne);a(277).config();var ce=Object(l.b)((function(e){return{socket:e.socket}}),{logedIn:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/auth/logedin",{headers:{Authorization:e}});case 3:n=t.sent,a({type:"SET_USER",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),localStorage.removeItem("jwt"),a({type:"AUTH_ERROR"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},notLogedIn:function(){return{type:"NOT_LOGED_IN"}},connectSocket:function(e){return{type:"SOCKETCONNECTED",payload:e}}})((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=(a[0],a[1],Object(n.useState)("")),o=Object(s.a)(c,2);o[0],o[1];return Object(n.useEffect)((function(){localStorage.jwt?e.logedIn(localStorage.jwt):e.notLogedIn(),e.connectSocket(re()("http://localhost:8080"))}),[]),r.a.createElement(g.a,null,r.a.createElement(ae,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(18),se=a(112),le={user:null,isAuthenticated:null,token:null,userList:null,userProfile:null,findPeople:null,totalLikes:0,totalComments:0,likesReceive:0,commentsReceive:0},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKERECEIVE":return Object(j.a)(Object(j.a)({},e),{},{commentsreceive:t.payload.comments_receive,likesreceive:t.payload.likes_receive});case"LIKESANDCOMMENTS":return Object(j.a)(Object(j.a)({},e),{},{totalLikes:t.payload.likes_post,totalComments:t.payload.comments_post});case"SIGNUP":case"SIGNIN":return Object(j.a)(Object(j.a)({},e),{},{token:t.payload.token,isAuthenticated:!0,user:t.payload.user});case"SET_USER":case"UNFOLLOW":case"FOLLOW":return Object(j.a)(Object(j.a)({},e),{},{user:t.payload,isAuthenticated:!0});case"UPDATE_PROFILE":return Object(j.a)(Object(j.a)({},e),{},{user:t.payload});case"AUTH_ERROR":case"NOT_LOGED_IN":case"LOGOUT":return Object(j.a)(Object(j.a)({},e),{},{user:null,isAuthenticated:!1,token:null});case"ALL_USER":return Object(j.a)(Object(j.a)({},e),{},{userList:t.payload});case"SINGLE_USER":return Object(j.a)(Object(j.a)({},e),{},{userProfile:t.payload});case"DELETE_PROFILE":return Object(j.a)(Object(j.a)({},e),{},{user:null,isAuthenticated:!1,token:null,userProfile:null});case"FINDPEOPLE":return Object(j.a)(Object(j.a)({},e),{},{findPeople:t.payload});default:return e}},me={posts:[],post:null,postbyUser:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETALLPOST":return Object(j.a)(Object(j.a)({},e),{},{posts:t.payload});case"SINGLEPOST":return Object(j.a)(Object(j.a)({},e),{},{post:t.payload});case"POSTBY_USER":return Object(j.a)(Object(j.a)({},e),{},{postbyUser:t.payload});case"LIKE_UNLIKE":case"UNCOMMENT":case"COMMENT":return Object(j.a)(Object(j.a)({},e),{},{post:t.payload});default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCKETCONNECTED":return t.payload;default:return e}},pe=Object(oe.c)({auth:ie,post:ue,socket:de}),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,be=Object(oe.e)(pe,fe(Object(oe.a)(se.a)));o.a.render(r.a.createElement(l.a,{store:be},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.ee911894.chunk.js.map