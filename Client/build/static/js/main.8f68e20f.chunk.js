(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a(280)},119:function(e,t,a){},120:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},274:function(e,t){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),l=(a(119),a(120),a(6)),s=a(1),i=a.n(s),m=a(3),u=a(8),d=a.n(u),p=a(9),f=a(5),b=function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/api/post/single/".concat(e));case 3:r=a.sent,n({type:"SINGLEPOST",payload:r.data}),t(null,r.data),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("Post not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},h=(a(142),function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("svg",{className:"spinner",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})))}),E=a(4),v=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},g=(a(143),Object(l.b)((function(e){return{posts:e.post.posts}}),{getAllPost:function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/post/getAllpost");case 3:r=t.sent,console.log(n().socket.emit("one",{data:"one"})),a({type:"GETALLPOST",payload:r.data}),e(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),e("Posts not fetched");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.posts,a=e.getAllPost,c=Object(n.useState)(null),o=Object(f.a)(c,2),l=o[0],s=o[1],u=Object(n.useState)(!0),d=Object(f.a)(u,2),p=d[0],b=d[1],g=Object(n.useState)(""),N=Object(f.a)(g,2),y=N[0],w=N[1];Object(n.useEffect)((function(){a((function(e){e?(b(!1),s(e)):b(!1)}))}),[a]);var O=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=v(),t.target.className+=" postImgErr",console.log(t.target.className);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=t?t.filter((function(e){var t=new RegExp("".concat(y),"gi");return e.title.match(t)||e.body.match(t)})):[];return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"form-group w-75"},r.a.createElement("input",{placeholder:"search from posts",onChange:function(e){w(e.target.value)},value:y,name:"search",className:"form-control"}))),r.a.createElement("h2",{className:"my-5 text-center"},"Recent Posts"),l&&r.a.createElement("div",{className:"alert alert-warning"},l),!p&&0===t.length&&r.a.createElement("h4",{className:"text-center text-warning"},"No Post found"),t&&r.a.createElement("div",{className:"row justify-content-center"},j.map((function(e){return r.a.createElement("div",{className:"col-md-4 card m-1 p-1 singlePost",style:{width:"18rem"},key:"Users ".concat(e._id)},r.a.createElement("img",{className:"card-image-top",src:"/api/post/photo/".concat(e._id),onError:O,alt:"".concat(e.name,"'s Image")}),r.a.createElement("div",{className:"card-body p-2"},r.a.createElement("h2",{className:"card-title"},e.title),r.a.createElement("div",{className:"card-text",dangerouslySetInnerHTML:{__html:e.body.substring(0,100)}}),r.a.createElement("hr",null),r.a.createElement("p",{className:"font-italic "},"Posted By",r.a.createElement(E.b,{to:"/user/".concat(e.postedBy._id)},r.a.createElement("span",{className:"mark"},e.postedBy.name)),r.a.createElement("br",null),"on ",new Date(e.createdAt).toDateString()),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(E.b,{to:"/posts/".concat(e._id),className:"btn btn-raised btn-sm btn-primary"},"Read more"),r.a.createElement("h6",{style:{cursor:"pointer"},className:"d-inline-block"},e.likes.length," ",r.a.createElement("i",{className:"fa fa-thumbs-o-up ml-1 ","aria-hidden":"true"})," ",e.likes.length,r.a.createElement("i",{className:"fa fa-comments-o ml-1","aria-hidden":"true"})))))}))),p&&r.a.createElement(h,null))}))),N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null))},y=a(12),w=a(2),O=Object(l.b)(null,{signup:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.post("/api/auth/signup",e);case 3:r=a.sent,localStorage.setItem("jwt","Bearer ".concat(r.data.token)),n({type:"SIGNUP",payload:r.data}),t(),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),c=Boolean(a.t0.response)?a.t0.response.status:0,t(403===c||404===c?a.t0.response.data:{error:"Something went Wrong"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)({name:"",email:"",password:""}),a=Object(f.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(f.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)({}),d=Object(f.a)(u,2),p=d[0],b=d[1],h=c.name,v=c.email,g=c.password,N=function(e){o(Object(w.a)(Object(w.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)));var t=Object(w.a)({},p);delete t[e.target.name],b(Object(w.a)({},t))};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignUp Form"),Object.keys(p).length>0&&r.a.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},r.a.createElement("ul",null,Object.keys(p).map((function(e){return p[e]?r.a.createElement("li",{key:"signin ".concat(e)},p[e]):null}))),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signup(c,(function(t){m(!1),t?b(t):(o({email:"",password:""}),e.history.push("/"))}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{autoFocus:!0,type:"text",value:h,onChange:N,name:"name",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{type:"email",value:v,onChange:N,name:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{type:"password",value:g,onChange:N,name:"password",className:"form-control"})),r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:i},i?"Loading":"Signup"," ")),r.a.createElement("div",{class:"alert alert-dark",role:"alert"},"Already have an account ",r.a.createElement(E.b,{to:"/signin"},"Signin")," instead."))})),j=Object(l.b)(null,{signin:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.post("/api/auth/signin",e);case 3:r=a.sent,localStorage.setItem("jwt","Bearer ".concat(r.data.token)),n({type:"SIGNIN",payload:r.data}),t(),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),c=Boolean(a.t0.response)?a.t0.response.status:0,t(403===c||404===c?a.t0.response.data:{error:"Something went Wrong"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)({email:"",password:"",remember:!1}),a=Object(f.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(f.a)(l,2),i=s[0],m=s[1],u=c.email,d=c.password,p=c.remember,b=Object(n.useState)({}),h=Object(f.a)(b,2),v=h[0],g=h[1],N=function(e){o(Object(w.a)(Object(w.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)));var t=Object(w.a)({},v);delete t[e.target.name],g(Object(w.a)({},t))};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignIn Form"),Object.keys(v).length>0&&r.a.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},r.a.createElement("ul",null,Object.keys(v).map((function(e){return v[e]?r.a.createElement("li",{key:"signin ".concat(e)},v[e]):null}))),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),m(!0),e.signin(c,(function(t){m(!1),t?g(t):(o({email:"",password:""}),e.history.push("/"))}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{autoFocus:!0,type:"email",value:u,onChange:N,name:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{type:"password",value:d,onChange:N,name:"password",className:"form-control"})),r.a.createElement("div",{className:"form-check my-3"},r.a.createElement("input",{name:"remember",value:p,defaultChecked:p,type:"checkbox",onClick:function(e){o(Object(w.a)(Object(w.a)({},c),{},Object(y.a)({},e.target.name,e.target.checked)))},className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Remember me")),r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:i},i?"Loading":"Login"," ")),r.a.createElement("div",{className:"alert alert-dark",role:"alert"},"Not have an account ",r.a.createElement(E.b,{to:"/signup"},"Signup")," instead."))})),k=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/auth/signout");case 3:a({type:"LOGOUT"}),e(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(p.g)((function(e){var t=e.history,a=e.logout,n=e.isAuthenticated,c=e.user,o=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=v(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Social Network"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item ".concat("/"===t.location.pathname&&"active")},r.a.createElement(E.b,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item ".concat("/users"===t.location.pathname&&"active")},r.a.createElement(E.b,{className:"nav-link",to:"/users"},"Users ",r.a.createElement("span",{className:"sr-only"},"(current)"))),function(){switch(n){case!1:return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item ".concat("/signup"===t.location.pathname&&"active")},r.a.createElement(E.b,{className:"nav-link",to:"/signup"},"SignUp")),r.a.createElement("li",{className:"nav-item ".concat("/signin"===t.location.pathname&&"active")},r.a.createElement(E.b,{className:"nav-link",to:"/signin"},"SignIn")));case!0:default:return}}(),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item ".concat("/findpeople"===t.location.pathname&&"active")},r.a.createElement(E.b,{className:"nav-link",to:"/findpeople"},"Find People")),r.a.createElement("li",{className:"nav-item ".concat("/post/create"===t.location.pathname&&"active")},r.a.createElement(E.b,{className:"nav-link",to:"/post/create"},"Create Post")))),n&&r.a.createElement("ul",{className:"navbar-nav  mt-2 mt-lg-0 justify-content-end"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("img",{src:"/api/user/photo/".concat(c._id),onError:o,className:"float-left mr-2",height:"35px",width:"35px",style:{borderRadius:"50%"}}),r.a.createElement("a",{href:"/user/".concat(c._id),type:"button",className:"btn text-light"},c.name),r.a.createElement("button",{type:"button",className:"btn dropdown-toggle dropdown-toggle-split text-light","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right   "},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Another action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){a((function(){localStorage.removeItem("jwt"),t.push("/signin")}))}},"Signout")))))))}))),x=function(e){var t=e.deleteHandler,a=e.text,n=e.modelId;return r.a.createElement("div",{className:"modal fade",id:n,tabIndex:"-1",role:"dialog","aria-labelledby":"mymodal","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Delete ",a),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},"Are your sure you want to delete ",a,"?"),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:t},"Delete")))))},S=Object(l.b)(null,{userfollow:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.put("/api/user/follow/",{followid:e},{headers:{Authorization:t}});case 3:c=n.sent,r({type:"FOLLOW",payload:c.data}),a(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a("something went wrong please try again");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},unFollow:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.put("/api/user/unfollow/",{unfollowid:e},{headers:{Authorization:t}});case 3:c=n.sent,r({type:"UNFOLLOW",payload:c.data}),a(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a("something went wrong please try again");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.followingList,a=e.followingId,c=e.userfollow,o=e.unFollow,l=e.extraclass,s=Object(n.useState)(!1),i=Object(f.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){u(!!t&&t.find((function(e){return e._id===a}))),console.log("follow")}),[t,a]),r.a.createElement("div",{className:"d-inline-block"},m?r.a.createElement("button",{className:"btn btn-warning btn-raised ".concat(l),onClick:function(){o(a,localStorage.jwt,(function(e){e||u(!m)}))}},"UnFollow"):r.a.createElement("button",{className:"btn btn-success btn-raised ".concat(l),onClick:function(){c(a,localStorage.jwt,(function(e){e||u(!m)}))}},"Follow"))})),_=function(e){var t=e.follower,a=e.following,n=e.posts,c=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=v(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Followers (",t.length,")"),r.a.createElement("hr",null),t.map((function(e){return r.a.createElement("div",{key:"tabfollowing".concat(e._id)},r.a.createElement("div",{className:"row  mt-2 p-2"},r.a.createElement("div",null,r.a.createElement("a",{href:"/user/".concat(e._id)},r.a.createElement("img",{className:"float-left mr-2",height:"40px",width:"40px",style:{borderRadius:"50%",border:".8px solid #707070"},src:"/api/user/photo/".concat(e._id,"?").concat((new Date).getTime()),alt:"".concat(e.name),onError:c}),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",null,e.name))))))}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Following (",a.length,")"),r.a.createElement("hr",null),a.map((function(e){return r.a.createElement("div",{key:"tabfollower".concat(e._id)},r.a.createElement("div",{className:"row  mt-2 p-2"},r.a.createElement("div",{className:""},r.a.createElement("a",{href:"/user/".concat(e._id)},r.a.createElement("img",{className:"float-left mr-2",height:"40px",width:"40px",style:{borderRadius:"50%",border:".8px solid #707070"},src:"/api/user/photo/".concat(e._id,"?").concat((new Date).getTime()),alt:"".concat(e.name),onError:c}),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",null,e.name))))))}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Post (",n.length,")"),r.a.createElement("hr",null),n.map((function(e){return r.a.createElement("div",{key:"tabfollower".concat(e._id)},r.a.createElement("div",{className:"row  mt-2 p-2"},r.a.createElement("div",{className:""},r.a.createElement(E.b,{to:"/posts/".concat(e._id)},r.a.createElement("img",{className:"float-left mr-2",height:"40px",width:"40px",style:{borderRadius:"50%",border:".8px solid #707070"},src:"/api/post/photo/".concat(e._id,"?").concat((new Date).getTime()),alt:"".concat(e.name),onError:c}),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",null,e.title))))))})))))},I=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,users:e.auth.userList,user:e.auth.user,userProfile:e.auth.userProfile,postbyUserList:e.post.postbyUser,totalLikes:e.auth.totalLikes,totalComments:e.auth.totalComments,likesreceive:e.auth.likesreceive,commentsreceive:e.auth.commentsreceive}}),{singleUser:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/api/user/".concat(e));case 3:r=a.sent,n({type:"SINGLE_USER",payload:r.data}),t(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("User not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteProfile:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.delete("/api/user/".concat(e),{headers:{Authorization:t}});case 3:localStorage.removeItem("jwt"),r({type:"DELETE_PROFILE"}),a(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a("user not deleted");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},postByUser:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/api/post/by/".concat(e));case 3:r=a.sent,n({type:"POSTBY_USER",payload:r.data}),t(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("user post not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},likesAndcomments:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/api/user/likesgave",{headers:{Authorization:e}});case 3:r=a.sent,n({type:"LIKESANDCOMMENTS",payload:r.data}),t(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t("likes and comment not found");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},likesReceive:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/api/user/likesreceive",{headers:{Authorization:e}});case 3:r=a.sent,n({type:"LIKERECEIVE",payload:r.data}),t(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({error:"Something went Wrong"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.user,c=e.isAuthenticated,o=e.singleUser,l=e.totalComments,s=e.totalLikes,u=e.commentsreceive,d=e.likesreceive,p=e.userProfile,b=e.deleteProfile,h=e.history,g=e.postByUser,N=e.postbyUserList,y=e.likesAndcomments,w=e.likesReceive,O=Object(n.useState)(null),j=Object(f.a)(O,2),k=j[0],I=j[1],L=Object(n.useState)(null),C=Object(f.a)(L,2),P=C[0],A=C[1];Object(n.useEffect)((function(){k||(I(t.params.userId),g(t.params.userId,(function(e){A(e)})),o(t.params.userId,(function(e){e&&A(e)}))),c&&(y(localStorage.jwt,(function(){})),w(localStorage.jwt,(function(){})))}),[k,c,o,g]);var U=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=v(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container-fluid px-5"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),P&&r.a.createElement("div",{className:"alert alert-danger"},P),p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"card-image-top",style:{width:"100%",height:"20vw",objectFit:"contain"},src:"/api/user/photo/".concat(p._id,"?").concat((new Date).getTime()),onError:U,alt:"".concat(p.name,"'s Image")})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"lead mt-2"},r.a.createElement("p",null,"hello: ",p.name),r.a.createElement("p",null,"Email: ",p.email),r.a.createElement("p",null,"joined on:",new Date(p.createdAt).toDateString()," ")),r.a.createElement("hr",null),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex my-3"},r.a.createElement("h5",{className:"mr-3"},"Likes Receive ",r.a.createElement("span",{className:"badge badge-primary"},d)),r.a.createElement("h5",{className:""},"Coments Receive ",r.a.createElement("span",{className:"badge badge-primary"},u))),r.a.createElement("div",{className:"d-flex my-3"},r.a.createElement("h5",{className:"mr-3"},"Likes post ",r.a.createElement("span",{className:"badge badge-secondary"},s)),r.a.createElement("h5",{className:""},"coments post ",r.a.createElement("span",{className:"badge badge-secondary"},l)))),c&&a._id===k?r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(E.b,{className:"btn btn-raised btn-info mr-3",to:"/post/create"},"Create Post"),r.a.createElement(E.b,{className:"btn btn-raised btn-success mr-3",to:"/user/edit/".concat(p._id)},"Edit Profile"),r.a.createElement("button",{className:"btn btn-raised btn-danger","data-toggle":"modal","data-target":"#profile".concat(a._id)},"Delete "),r.a.createElement(x,{text:"profile",modelId:"profile".concat(a._id),deleteHandler:function(){b(a._id,localStorage.jwt,(function(e){e?console.log(e):h.push("/signin")}))}})):r.a.createElement(S,{followingList:a?a.following:[],followingId:p._id}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 my-5"},r.a.createElement("hr",null),r.a.createElement("div",{className:"lead"},p.about),r.a.createElement("hr",null),r.a.createElement(_,{posts:N,follower:p.follower,following:p.following})))))})),L=Object(l.b)((function(e){return{users:e.auth.userList,socket:e.socket}}),{allUser:function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/user/alluser");case 3:n=t.sent,a({type:"ALL_USER",payload:n.data}),e(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),e("User not fetched");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.allUser,a=e.users,c=e.socket,o=Object(n.useState)(null),l=Object(f.a)(o,2),s=l[0],u=l[1],d=Object(n.useState)(!0),p=Object(f.a)(d,2),b=p[0],g=p[1];Object(n.useEffect)((function(){t((function(e){e?(g(!1),u(e)):g(!1)}))}),[t]),Object(n.useEffect)((function(){c&&(c.emit("neweve","neweve called"),c.on("hi",(function(e){console.log("data=>",e)})),c.on("postall",(function(e){console.log("asd=>",e)})))}),[c]);var N=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=v(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"my-5 text-center"},"Users"),s&&r.a.createElement("div",{className:"alert alert-warning"},s),a&&r.a.createElement("div",{className:"row no-gutters justify-content-center"},a.map((function(e){return r.a.createElement("div",{className:"col-sm-12 col-md-3 card m-1 singlePost",style:{width:"18rem"},key:"Users ".concat(e._id)},r.a.createElement("img",{className:"card-image-top ",src:"/api/user/photo/".concat(e._id),onError:N,alt:"".concat(e.name,"'s Image")}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email," "),r.a.createElement(E.b,{to:"/user/".concat(e._id),className:"btn btn-raised btn-sm btn-primary"},"View Profile ")))}))),b&&r.a.createElement(h,null))})),C=new FormData,P=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{editProfile:function(e,t,a,n){return function(){var r=Object(m.a)(i.a.mark((function r(c){var o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.a.put("/api/user/".concat(e),t,{headers:{Authorization:a}});case 3:o=r.sent,c({type:"UPDATE_PROFILE",payload:o.data}),n(),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0),n("user not updated");case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.user,c=e.editProfile,o=Object(n.useState)({name:"",email:"",password:"",about:""}),l=Object(f.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(null),u=Object(f.a)(m,2),d=u[0],p=u[1],b=Object(n.useState)(!1),h=Object(f.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)(""),N=Object(f.a)(g,2),O=N[0],j=N[1];Object(n.useEffect)((function(){if(t){var e=a.name,n=a.email,r=a.about;i(Object(w.a)(Object(w.a)({},s),{},{name:e,email:n,about:r}))}}),[t]);var k=function(e){C.set([e.target.name],e.target.value),i(Object(w.a)(Object(w.a)({},s),{},Object(y.a)({},e.target.name,e.target.value)))},x=s.name,S=s.email,_=s.password,I=s.about;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"}," EditProfile ")," ",E?r.a.createElement("div",{class:"alert ".concat(O?"alert-danger":"alert-success"," alert-dismissible fade show"),role:"alert"}," ",O||"updated successfully"," ",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"}," & times; ")," ")," "):null,d?r.a.createElement("img",{className:"img-thumbnail",style:{width:"200",height:"20vw",objectFit:"cover"},src:d,alt:"".concat(a.name,"'s Image")}):r.a.createElement("img",{className:"img-thumbnail",style:{width:"200",height:"20vw",objectFit:"cover"},src:"/api/user/photo/".concat(a._id,"?date=").concat((new Date).getTime()),alt:"".concat(a.name,"'s Image")}),r.a.createElement("form",{onSubmit:function(e){var t=s.name,n=s.email,r=s.password;s.about;e.preventDefault(),r&&r.length>=1&&r.length<=5&&(j("password must be greater than 6 character"),v(!0),setTimeout((function(){j(""),v(!1)}),2e3)),t&&n?c(a._id,C,localStorage.jwt,(function(e){e?(j(e),v(!0),setTimeout((function(){j(""),v(!1)}),2e3)):(v(!0),setTimeout((function(){j(""),v(!1)}),2e3))})):(j("name and email must required to perform this actions"),v(!0),setTimeout((function(){j(""),v(!1)}),2e3))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"profile Photo "),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]);p(t),C.set([e.target.name],e.target.files[0]),e.target.files[0].size>1048575&&(j("file must not grather than 1 mb"),v(!0),setTimeout((function(){j(""),v(!1)}),2e3)),i(Object(w.a)(Object(w.a)({},s),{},Object(y.a)({},e.target.name,e.target.files[0])))},name:"photo",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name ")," ",r.a.createElement("input",{type:"text",value:x,onChange:k,name:"name",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{type:"email",value:S,onChange:k,name:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password "),r.a.createElement("input",{type:"password",value:_,onChange:k,name:"password",className:"form-control"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"About ")," ",r.a.createElement("textarea",{type:"text",value:I,onChange:k,name:"about",className:"form-control"})))," ",r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:E}," ",E?"Updating Profile":"Update Profile"," ")," ")," ")})),A=a(113),U=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.component,a=e.isAuthenticated,n=Object(A.a)(e,["component","isAuthenticated"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){switch(a){case null:return r.a.createElement("div",null,r.a.createElement("h1",{className:"mt-5 mb-5"},"Loading"));case!1:return r.a.createElement(p.a,{to:"/signin"});default:return r.a.createElement(t,e)}}}))})),T=Object(l.b)((function(e){return{users:e.auth.findPeople,authuser:e.auth.user}}),{findPeople:function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/api/user/suggestion",{headers:{Authorization:e}});case 3:r=a.sent,n({type:"FINDPEOPLE",payload:r.data}),t(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t("User not fetched");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.findPeople,a=e.users,c=e.authuser,o=Object(n.useState)(null),l=Object(f.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(!0),u=Object(f.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){t(localStorage.jwt,(function(e){e?(p(!1),i(e)):p(!1)}))}),[localStorage.jwt]);return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"my-5 text-center"},"Find People"),s&&r.a.createElement("div",{className:"alert alert-warning"},s),a&&r.a.createElement("div",{className:"row no-gutters justify-content-center"},a.map((function(e){return r.a.createElement("div",{className:"col-md-3 card m-1",style:{width:"18rem"},key:"Users ".concat(e._id)},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email," "),r.a.createElement(E.b,{to:"/user/".concat(e._id),className:"btn btn-raised btn-sm btn-primary"},"View Profile "),r.a.createElement(S,{extraclass:"ml-1",followingList:c?c.following:[],followingId:e._id})))}))),d&&r.a.createElement(h,null))})),R=a(21),D=a(22),F=a(24),B=a(23),M=a(27),z=a.n(M),G=(a(247),function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.handleChange=function(t){e.setState({text:t})},e}return Object(D.a)(a,[{key:"render",value:function(){return z.a.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]],clipboard:{matchVisual:!1}},z.a.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link"],r.a.createElement(z.a,{value:this.props.value,name:this.props.name,onChange:this.props.onChange,modules:z.a.modules,formats:z.a.formats,theme:"snow",placeholder:"write something"})}}]),a}(r.a.Component)),H=new FormData,K=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{createPost:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.post("/api/post/createpost",e,{headers:{Authorization:t}});case 3:a(),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0),a("Post not created");case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},singlePost:b,updatePost:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.put("/api/post/".concat(e._id),e,{headers:{Authorization:t}});case 3:a(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a("post not updated");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.match,c=e.user,o=e.createPost,l=e.history,s=e.singlePost,i=e.updatePost,m=Object(n.useState)({title:"",body:"",photo:""}),u=Object(f.a)(m,2),d=u[0],p=u[1],b=Object(n.useState)(null),h=Object(f.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)(!1),N=Object(f.a)(g,2),O=N[0],j=N[1],k=Object(n.useState)(""),x=Object(f.a)(k,2),S=x[0],_=x[1];Object(n.useEffect)((function(){a.params.postId&&s(a.params.postId,(function(e,t){e?_(e):p(Object(w.a)(Object(w.a)({},d),t))}))}),[t,a.params.postId,s]);var I=d.title,L=d.body;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"}," ",a.params.postId?"Update":"Create"," New Post ")," ",O?r.a.createElement("div",{className:"alert ".concat(S?"alert-danger":"alert-success"," alert-dismissible fade show"),role:"alert"}," ",S||"updated successfully"," ",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"}," \xd7 ")," ")," "):null,E?r.a.createElement("img",{className:"img-thumbnail",style:{width:"200",height:"20vw",objectFit:"cover"},src:E,alt:"".concat(I,"'s Image")}):r.a.createElement("img",{className:"img-thumbnail",style:{width:"200",height:"20vw",objectFit:"cover"},src:"/api/post/photo/".concat(d._id)}),r.a.createElement("form",{onSubmit:function(e){var t=d.title,n=d.body;e.preventDefault(),t&&n?a.params.postId?(H._id=d._id,i(H,localStorage.jwt,(function(e){e?(_(e),j(!0),setTimeout((function(){_(""),j(!1)}),2e3)):(j(!0),setTimeout((function(){_(""),j(!1)}),2e3))}))):o(H,localStorage.jwt,(function(e){e?(_(e),j(!0),setTimeout((function(){_(""),j(!1)}),2e3)):(j(!0),l.push("/user/".concat(c._id)),p({}),setTimeout((function(){_(""),j(!1)}),2e3))})):(_("please fill all field"),j(!0),setTimeout((function(){_(""),j(!1)}),2e3))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"profile Photo "),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]);v(t),console.log(t),H.set([e.target.name],e.target.files[0]),e.target.files[0].size>1048575&&(_("file must not grather than 1 mb"),j(!0),setTimeout((function(){_(""),j(!1)}),2e3)),p(Object(w.a)(Object(w.a)({},d),{},Object(y.a)({},e.target.name,e.target.files[0])))},name:"photo",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title ")," ",r.a.createElement("input",{type:"text",value:I,onChange:function(e){H.set([e.target.name],e.target.value),p(Object(w.a)(Object(w.a)({},d),{},Object(y.a)({},e.target.name,e.target.value)))},name:"title",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"body"),r.a.createElement(G,{name:"body",value:L,onChange:function(e){H.set("body",e),p(Object(w.a)(Object(w.a)({},d),{},{body:e}))},className:"form-control"})),r.a.createElement("button",{className:"btn btn-raised btn-primary",disabled:O}," ",a.params.postId?"Update":"create "," post"," ")," ")," ")})),W=a(50),V=a.n(W),q=a(110),J=a.n(q),X=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).imgError=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.style.backgroundColor=v(),t.target.style.overflow="hidden";case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(D.a)(a,[{key:"componentDidUpdate",value:function(e){e.comment._id!==this.props.comment._id&&console.log("comment updated ")}},{key:"render",value:function(){var e=this,t=this.props,a=t.comment,n=t.user,c=t.isAuthenticated;return r.a.createElement("div",{key:"tabfollower".concat(a._id)},r.a.createElement("div",{className:"row mt-2 p-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"media"},r.a.createElement(E.b,{to:"/user/".concat(a.commentedBy._id),title:a.commentedBy.name},r.a.createElement("img",{src:"http://localhost:8080/api/user/photo/".concat(a.commentedBy._id,"?").concat((new Date).getTime()),className:"mr-3",onError:this.imgError})),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{style:{lineHeight:".5"},className:"mt-0"},r.a.createElement(E.b,{to:"/user/".concat(a.commentedBy._id),title:a.commentedBy.name},a.commentedBy.name),"  ",r.a.createElement("span",{className:"ml-2"},V()(a.createdAt).calendar())," "),r.a.createElement("p",null,a.text))),c&&a.commentedBy._id===n._id&&r.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteComment(a._id)},className:"btn  btn-danger"},"delete")))))}}]),a}(r.a.Component),Y=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={text:""},e.commentRef=r.a.createRef(),e.submitHandler=function(t){t.preventDefault();var a=e.props.postId,n=e.props.isAuthenticated,r=e.commentRef.current.value;r.length&&n&&e.props.comment(a,{text:r},localStorage.jwt,(function(t){t||(e.setState({text:""}),e.props.socket.emit("postUpdate",a),e.commentRef.current.value="")}))},e.deleteComment=function(t){var a=e.props.postId;console.log(t,a),e.props.unComment(a,t,localStorage.jwt,(function(t){t?console.log("comment not deleted"):e.props.socket.emit("postUpdate",a)}))},e}return Object(D.a)(a,[{key:"componentDidUpdate",value:function(e){e.comments.length!==this.props.comments.length&&console.log("updated")}},{key:"render",value:function(){var e=this,t=this.props,a=t.comment,n=t.comments,c=t.isAuthenticated,o=t.user,l=t.postId;if(a){var s=J.a.sortBy(n,[function(e){return e.createdAt}]).reverse();return r.a.createElement("div",{className:"col-12 p-0"},r.a.createElement("h2",{className:"my-5"},"Leave a comment"),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"Write comment",className:"form-control",type:"text",ref:this.commentRef})),r.a.createElement("button",{type:"submit",className:"btn btn-raised btn-success "},"post")),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",null," (",n.length,") Comments "),s.map((function(t){return r.a.createElement(X,{isAuthenticated:c,deleteComment:e.deleteComment,user:o,comment:t,key:"comment/".concat(l," ").concat(t._id)})}))))}return r.a.createElement("div",null,"Loading")}}]),a}(r.a.Component),$=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,socket:e.socket}}),{comment:function(e,t,a,n){return function(){var r=Object(m.a)(i.a.mark((function r(c){var o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.a.put("/api/post/comment/".concat(e),{comment:t.text},{headers:{Authorization:a}});case 3:o=r.sent,c({type:"COMMENT",payload:o.data}),n(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n("comment not posted");case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},unComment:function(e,t,a,n){return function(){var r=Object(m.a)(i.a.mark((function r(c){var o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("uncomment"),r.next=4,d.a.put("/api/post/uncomment/".concat(e,"/").concat(t),{},{headers:{Authorization:a}});case 4:o=r.sent,c({type:"UNCOMMENT",payload:o.data}),n(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log("error=>>>>>>",r.t0),n("comment not deleted");case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}})(Y),Q=function(e){Object(F.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLike:!1},e.SockerHandler=function(){var t=e.props.socket;t&&(console.log("socket connected"),t.on("post",(function(t){e.props.postUpdate(t)})))},e.likeToggle=function(){e.props.likeUnlike(e.props.post._id,localStorage.jwt,(function(t){t?console.log(t):e.props.socket.emit("postUpdate",e.props.post._id)}))},e}return Object(D.a)(a,[{key:"componentDidMount",value:function(){this.props.singlePost(this.props.match.params.postId,(function(e){e&&console.log(e)})),this.SockerHandler()}},{key:"componentDidUpdate",value:function(e){this.props.socket!==e.socket&&this.SockerHandler()}},{key:"render",value:function(){var e=this,t=this.props,a=t.post,n=t.isAuthenticated,c=t.user,o=t.history;switch(a){case null:return r.a.createElement("div",{className:"text-center"},"Loading");default:var l=!1;return n&&a&&c&&(l=a.likes.find((function(e){return e===c._id}))),r.a.createElement("div",{className:"container-fluid",style:{width:"90%"}},r.a.createElement("h2",{className:"display-2 my-4"}," ",a.title),r.a.createElement("div",{className:"col-md-12 card m-1 p-1"},r.a.createElement("img",{className:"card-image-top",style:{width:"100%",height:"400px",objectFit:"contain"},src:"/api/post/photo/".concat(a._id),alt:"".concat(a.name,"'s Image")}),r.a.createElement("div",{className:"card-body p-2"},r.a.createElement("div",{className:"card-text",dangerouslySetInnerHTML:{__html:a.body}}),r.a.createElement("hr",null),r.a.createElement("p",{className:"font-italic "},"Posted By",r.a.createElement(E.b,{to:"/user/".concat(a.postedBy._id)},r.a.createElement("span",{className:"mark"},a.postedBy.name)),r.a.createElement("br",null),"on ",V()(a.createdAt).format("lll")),r.a.createElement("h6",{style:{cursor:"pointer"},className:"d-inline-block",onClick:this.likeToggle},a.likes.length," ",l?r.a.createElement("i",{className:"fa fa-thumbs-up text-primary ml-1","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-thumbs-o-up ml-1 ","aria-hidden":"true"})),r.a.createElement("h6",{style:{cursor:"pointer"},className:"d-inline-block ml-3"},a.comments.length,r.a.createElement("i",{className:"fa fa-comments-o ml-1","aria-hidden":"true"})))),n&&c._id===a.postedBy._id&&r.a.createElement("div",{className:"d-inline-block my-4 float-right"},r.a.createElement(E.b,{className:"btn btn-raised btn-info mr-3",to:"/post/edit/".concat(a._id)},"Edit Post"),r.a.createElement("button",{className:"btn btn-raised btn-danger","data-toggle":"modal","data-target":"#post".concat(a._id)},"Delete Post"),r.a.createElement(x,{text:"profile",modelId:"post".concat(a._id),deleteHandler:function(){console.log("delete post"),e.props.deletePost(a._id,localStorage.jwt,(function(e){e?console.log(e):o.push("/")}))}})),r.a.createElement("div",{className:"row"},r.a.createElement($,{postId:a._id,comments:a.comments})))}}}]),a}(r.a.Component),Z=Object(l.b)((function(e){return{post:e.post.post,isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,socket:e.socket}}),{singlePost:b,likeUnlike:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.put("/api/post/like/".concat(e),{},{headers:{Authorization:t}});case 3:c=n.sent,r({type:"LIKE_UNLIKE",payload:c.data}),a(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a("likes not updated");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},deletePost:function(e,t,a){return function(){var n=Object(m.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.delete("/api/post/".concat(e),{headers:{Authorization:t}});case 3:a(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a("post not deleted");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},postUpdate:function(e){return{type:"LIKE_UNLIKE",payload:e}}})(Q),ee=function(){return Object(n.useEffect)((function(){})),r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:N}),r.a.createElement(p.b,{exact:!0,path:"/users",component:L}),r.a.createElement(p.b,{exact:!0,path:"/signup",component:O}),r.a.createElement(p.b,{exact:!0,path:"/signin",component:j}),r.a.createElement(p.b,{exact:!0,path:"/user/:userId",component:I}),r.a.createElement(U,{exact:!0,path:"/user/edit/:userId",component:P}),r.a.createElement(U,{exact:!0,path:"/findpeople",component:T}),r.a.createElement(U,{exact:!0,path:"/post/create",component:K}),r.a.createElement(U,{exact:!0,path:"/post/edit/:postId",component:K}),r.a.createElement(p.b,{exact:!0,path:"/posts/:postId",component:Z}),r.a.createElement(p.a,{to:"/"})))},te=a(111),ae=a.n(te);a(277).config();var ne=Object(l.b)((function(e){return{socket:e.socket}}),{logedIn:function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/auth/logedin",{headers:{Authorization:e}});case 3:n=t.sent,a({type:"SET_USER",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),localStorage.removeItem("jwt"),a({type:"AUTH_ERROR"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},notLogedIn:function(){return{type:"NOT_LOGED_IN"}},connectSocket:function(e){return{type:"SOCKETCONNECTED",payload:e}}})((function(e){return Object(n.useEffect)((function(){localStorage.jwt?e.logedIn(localStorage.jwt):e.notLogedIn(),e.connectSocket(ae()("https://social-network-re-1.herokuapp.com"))}),[]),r.a.createElement(E.a,null,r.a.createElement(ee,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=a(18),ce=a(112),oe={user:null,isAuthenticated:null,token:null,userList:null,userProfile:null,findPeople:null,totalLikes:0,totalComments:0,likesReceive:0,commentsReceive:0},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKERECEIVE":return Object(w.a)(Object(w.a)({},e),{},{commentsreceive:t.payload.comments_receive,likesreceive:t.payload.likes_receive});case"LIKESANDCOMMENTS":return Object(w.a)(Object(w.a)({},e),{},{totalLikes:t.payload.likes_post,totalComments:t.payload.comments_post});case"SIGNUP":case"SIGNIN":return Object(w.a)(Object(w.a)({},e),{},{token:t.payload.token,isAuthenticated:!0,user:t.payload.user});case"SET_USER":case"UNFOLLOW":case"FOLLOW":return Object(w.a)(Object(w.a)({},e),{},{user:t.payload,isAuthenticated:!0});case"UPDATE_PROFILE":return Object(w.a)(Object(w.a)({},e),{},{user:t.payload});case"AUTH_ERROR":case"NOT_LOGED_IN":case"LOGOUT":return Object(w.a)(Object(w.a)({},e),{},{user:null,isAuthenticated:!1,token:null});case"ALL_USER":return Object(w.a)(Object(w.a)({},e),{},{userList:t.payload});case"SINGLE_USER":return Object(w.a)(Object(w.a)({},e),{},{userProfile:t.payload});case"DELETE_PROFILE":return Object(w.a)(Object(w.a)({},e),{},{user:null,isAuthenticated:!1,token:null,userProfile:null});case"FINDPEOPLE":return Object(w.a)(Object(w.a)({},e),{},{findPeople:t.payload});default:return e}},se={posts:[],post:null,postbyUser:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETALLPOST":return Object(w.a)(Object(w.a)({},e),{},{posts:t.payload});case"SINGLEPOST":return Object(w.a)(Object(w.a)({},e),{},{post:t.payload});case"POSTBY_USER":return Object(w.a)(Object(w.a)({},e),{},{postbyUser:t.payload});case"LIKE_UNLIKE":case"UNCOMMENT":case"COMMENT":return Object(w.a)(Object(w.a)({},e),{},{post:t.payload});default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCKETCONNECTED":return t.payload;default:return e}},ue=Object(re.c)({auth:le,post:ie,socket:me}),de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||re.d,pe=Object(re.e)(ue,de(Object(re.a)(ce.a)));o.a.render(r.a.createElement(l.a,{store:pe},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.8f68e20f.chunk.js.map